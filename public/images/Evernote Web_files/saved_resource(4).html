
<!-- saved from url=(0036)https://www.evernote.com/Home.action -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Evernote Communication Engine</title>
  </head>
  <body>
    <script type="text/javascript">
!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(9),i=new r,s=n(11);i.setClient(s.client);var o=s.makeServer(i.handler());window.engine=i,window.handleFromNative=function(t){o(t)}},function(t,e,n){var r,i;r=[n(3),n(17),n(18),n(15),n(16),n(6)],i=function(t,e,n,r,i,s){return{thrift:t,JSONNativeTransport:e,BinaryNativeTransport:r,JSONProtocol:n,BinaryProtocol:i,BinaryParser:s}}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r;r=function(t){var e=n(1).thrift,r=r||{};return r.Priority={IMMEDIATE:0,SUITABLE:1},r.Placement={FULLSCREEN:0},r.TriggerType={PASTE:0,UNDO:1,PICTURE:2},r.Events=e.Struct.define("Events",{1:{alias:"show",type:e.Type.STRING},2:{alias:"dismiss",type:e.Type.STRING}}),r.Event=e.Struct.define("Event",{1:{alias:"name",type:e.Type.STRING},2:{alias:"time",type:e.Type.I64},3:{alias:"messageKey",type:e.Type.STRING}}),r.MessageContent=e.Struct.define("MessageContent",{1:{alias:"html",type:e.Type.STRING},2:{alias:"version",type:e.Type.I64}}),r.Trigger=e.Struct.define("Trigger",{1:{alias:"kind",type:e.Type.I32},2:{alias:"criteria",type:e.Type.MAP,def:e.Map.define(e.Type.STRING,e.Type.STRING)}}),r.InAppMessage=e.Struct.define("InAppMessage",{1:{alias:"key",type:e.Type.STRING},2:{alias:"priority",type:e.Type.I32},3:{alias:"events",type:e.Type.STRUCT,def:r.Events},4:{alias:"content",type:e.Type.STRUCT,def:r.MessageContent},5:{alias:"placement",type:e.Type.I32},6:{alias:"trigger",type:e.Type.STRUCT,def:r.Trigger}}),r.InAppMessageIdentifier=e.Struct.define("InAppMessageIdentifier",{1:{alias:"key",type:e.Type.STRING},2:{alias:"version",type:e.Type.I64}}),r.MessageResponse=e.Struct.define("MessageResponse",{1:{alias:"messages",type:e.Type.LIST,def:e.List.define(e.Type.STRUCT,r.InAppMessage)}}),r.MessageRequest=e.Struct.define("MessageRequest",{1:{alias:"knownMessages",type:e.Type.SET,def:e.Set.define(e.Type.STRUCT,r.InAppMessageIdentifier)},2:{alias:"supportedTriggers",type:e.Type.SET,def:e.Set.define(e.Type.I32)},3:{alias:"supportedPlacements",type:e.Type.SET,def:e.Set.define(e.Type.I32)},4:{alias:"events",type:e.Type.LIST,def:e.List.define(e.Type.STRUCT,r.Event)},5:{alias:"locale",type:e.Type.STRING},6:{alias:"clientVersion",type:e.Type.STRING}}),r}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r;r=function(t){"use strict";var e={Version:"0.9.0",Type:{STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,EXCEPTION:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17,BINARY:18},MessageType:{CALL:1,REPLY:2,EXCEPTION:3},objectLength:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e},inherits:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n}};return e.equals=function(t,n){return t==n||t==e.Type.BINARY&&n==e.Type.STRING||t==e.Type.STRING&&n==e.Type.BINARY},e.serializedType=function(t){return t==e.Type.BINARY?e.Type.STRING:t},e.defaults=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},e.extend=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(e)for(var n in e)t[n]=e[n]}),t},e.Method=function(t){this.alias=t.alias,this.args=t.args,this.result=t.result},e.Method.define=function(t){return new e.Method(t)},e.Method.noop=function(){},e.Method.sendException=function(t,n,r,i){var s;i||(r instanceof e.TApplicationException?i=e.TApplicationException:r instanceof e.TException?i=e.TException:(i=e.TApplicationException,s={},r&&(r.message&&(s.message=r.message+""),null!=r.code&&Number.isFinite(s.code)&&(s.code=r.code)),r=new e.TApplicationException(s))),t.writeMessageBegin("",e.MessageType.EXCEPTION,n),i.write(t,r),t.writeMessageEnd(),t.flush()},e.Method.prototype.sendRequest=function(t,n,r,i){t.writeMessageBegin(this.alias,e.MessageType.CALL,n),this.args.write(t,r),t.writeMessageEnd(),t.flush(function(t,e){t?i(t):this.processResponse(e,i)}.bind(this))},e.Method.prototype.sendResponse=function(t,n,r){t.writeMessageBegin(this.alias,e.MessageType.REPLY,n),this.result.write(t,r),t.writeMessageEnd(),t.flush()},e.Method.prototype.processResponse=function(t,n){var r,i,s,o;n=n||e.Method.noop;var r=t.readMessageBegin();if(r.mtype==e.MessageType.EXCEPTION)return s=e.TApplicationException.read(t),t.readMessageEnd(),void n(s);if(r.mtype!=e.MessageType.REPLY)return s=Error("Client expects REPLY but received unsupported message type: "+r.mtype),void n(s);if(this.alias!=r.fname)return s=Error("Unrecognized method name. Expected ["+this.alias+"] Received ["+r.fname+"]"),void n(s);i=this.result.read(t),t.readMessageEnd();for(o in this.result.fields)if(0!=o&&i[this.result.fields[o].alias])return s=i[this.result.fields[o].alias],void n(s);n(null,i.returnValue)},e.List={},e.List.define=function(t,n,r){var i=function(){return[]};return"string"!=typeof t&&(r=n,n=t,t="anonymous"),i.alias=t,i.type=n,i.def=r,i.read=e.List.read.bind(null,i),i.write=e.List.write.bind(null,i),i},e.List.read=function(t,n){var r=new t,i=n.readListBegin();return e.List.readEntries(t,r,n,i.size),n.readListEnd(),r},e.List.readEntries=function(t,e,n,r){var i;for(i=0;r>i;i++)null!=t.def?e.push(t.def.read(n)):e.push(n.readType(t.type))},e.List.write=function(t,e,n){var r,i,s=n.length;for(e.writeListBegin(t.type,s),i=0;s>i;i++)r=n[i],t.def?t.def.write(e,r):e.writeType(t.type,r);e.writeListEnd()},e.Set={},e.Set.define=function(t,n,r){var i=function(){return[]};return"string"!=typeof t&&(r=n,n=t,t="anonymous"),i.alias=t,i.type=n,i.def=r,i.read=e.Set.read.bind(null,i),i.write=e.Set.write.bind(null,i),i},e.Set.read=function(t,n){var r=new t,i=n.readSetBegin();return e.Set.readEntries(t,r,n,i.size),n.readSetEnd(),r},e.Set.readEntries=function(t,e,n,r){var i;for(i=0;r>i;i++)null!=t.def?e.push(t.def.read(n)):e.push(n.readType(t.type))},e.Set.write=function(t,e,n){var r,i,s=n.length;for(e.writeSetBegin(t.type,s),i=0;s>i;i++)r=n[i],t.def?t.def.write(e,r):e.writeType(t.type,r);e.writeSetEnd()},e.Map={},e.Map.define=function(t,n,r,i){var s=function(){return{}};return"string"!=typeof t&&(i=r,r=n,n=t,t="anonymous"),s.alias=t,s.ktype=n,s.vtype=r,s.vdef=i,s.read=e.Map.read.bind(null,s),s.write=e.Map.write.bind(null,s),s},e.Map.read=function(t,n){var r=new t,i=n.readMapBegin();return e.Map.readEntries(t,r,n,i.size),n.readMapEnd(),r},e.Map.readEntries=function(t,e,n,r){var i,s;for(i=0;r>i;i++)s=n.readType(t.ktype),null!=t.vdef?e[s]=t.vdef.read(n):e[s]=n.readType(t.vtype)},e.Map.write=function(t,e,n){var r,i,s,o=Object.keys(n),u=o.length;for(e.writeMapBegin(t.ktype,t.vtype,u),s=0;u>s;s++)r=o[s],e.writeType(t.ktype,r),i=n[r],t.vdef?t.vdef.write(e,i):e.writeType(t.vtype,i);e.writeMapEnd()},e.Struct={},e.Struct.define=function(t,n){var r,i,s={};n=n||{};for(r in n)i=n[r],s[i.alias]=i.defaultValue||null;var o=function(t){return t="object"==typeof t?t:{},e.defaults({},t,s)};return o.alias=t,o.fields=n,o.defaultValues=s,o.read=e.Struct.read.bind(null,o),o.write=e.Struct.write.bind(null,o),o.values=e.Struct.values.bind(null,o),o.setByDef=e.Struct.setByDef.bind(null,o),o},e.Struct.setByDef=function(t,e,n){var r,i,s=t.fields,o=!1;for(r in s)if(i=s[r],i.def&&n instanceof i.def){e[i.alias]=n,o=!0;break}return o},e.Struct.values=function(t,e){var n,r,i,s=t.fields,o=Object.keys(t.fields),u=new Array(o.length);for(i=0;i<o.length;i++)n=o[i],r=s[n].index,null!=r?u[r]=e[s[n].alias]:u[i]=e[s[n].alias];return u},e.Struct.read=function(t,n){var r=new t;return n.readStructBegin(),e.Struct.readFields(t,n,r),n.readStructEnd(),r},e.Struct.readFields=function(t,n,r){for(var i,s;;){if(i=n.readFieldBegin(),i.ftype==e.Type.STOP)return;s=t.fields[i.fid],s&&e.equals(i.ftype,s.type)?s.def?r[s.alias]=s.def.read(n):r[s.alias]=n.readType(s.type):n.skip(i.ftype),n.readFieldEnd()}},e.Struct.write=function(t,n,r){var i,s,o;n.writeStructBegin(t.alias);for(i in t.fields)s=t.fields[i],o=r[s.alias],null!==o&&void 0!==o&&(n.writeFieldBegin(s.alias,e.serializedType(s.type),i),s.def?new s.def.write(n,o):n.writeType(s.type,o),n.writeFieldEnd());n.writeFieldStop(),n.writeStructEnd()},e.Exception={},e.Exception.define=function(t,n){var r,i,s={};n=n||{};for(r in n)i=n[r],s[i.alias]=i.defaultValue||null;var o=function(t){var n={};"object"==typeof t&&(n=t),e.defaults(this,n,s),"string"==typeof t?this.message=t:t instanceof Error&&(this.message=t.message)};return o.alias=t,o.fields=n,o.defaultValues=s,o.read=e.Struct.read.bind(null,o),o.write=e.Struct.write.bind(null,o),o},e.TException=e.Exception.define("TException",{1:{alias:"message",type:e.Type.STRING}}),e.TApplicationExceptionType={UNKNOWN:0,UNKNOWN_METHOD:1,INVALID_MESSAGE_TYPE:2,WRONG_METHOD_NAME:3,BAD_SEQUENCE_ID:4,MISSING_RESULT:5,INTERNAL_ERROR:6,PROTOCOL_ERROR:7},e.TApplicationException=e.Exception.define("TApplicationException",{1:{alias:"message",type:e.Type.STRING},2:{alias:"code",type:e.Type.I32,defaultValue:e.TApplicationExceptionType.INTERNAL_ERROR}}),e.Processor=function(){this.methods={}},e.Processor.prototype.addMethod=function(t,e){this.methods[t.alias]={def:t,fn:e}},e.Processor.prototype.process=function(t,n){var r,i,s,o,u;try{if(o=t.readMessageBegin(),o.mtype!=e.MessageType.CALL)throw new e.TException("Server expects CALL but received unsupported message type: "+o.mtype);if(r=this.methods[o.fname],null==r)throw new e.TException("Unrecognized method name: "+o.fname);i=r.def,u=i.args.read(t),s=new i.result,r.fn.apply(null,i.args.values(u).concat([function(t){s.returnValue=t,i.sendResponse(n,o.seqid,s)},function(t){var r=o?o.seqid:-1;s&&i.result.setByDef(s,t)?i.sendResponse(n,o.seqid,s):e.Method.sendException(n,r,t)}]))}catch(a){console.log(a);var c=o?o.seqid:-1;s&&i.result.setByDef(s,a)?i.sendResponse(n,o.seqid,s):e.Method.sendException(n,c,a)}},e}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e){"use strict";t.exports={REFRESH_INTERVAL_MILLIS:432e5,MAX_STATE_AGE_MILLIS:108e5}},function(t,e){"use strict";t.exports={now:function(){return(new Date).getTime()},setInterval:function(t,e){"undefined"!=typeof window&&window.setInterval&&window.setInterval(t,e)}}},function(t,e,n){var r;r=function(t){var e={};return e.fromByte=function(t){var e=new ArrayBuffer(1);return new DataView(e).setInt8(0,t),e},e.fromShort=function(t){t=parseInt(t);var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,t),e},e.fromInt=function(t){t=parseInt(t);var e=new ArrayBuffer(4);return new DataView(e).setInt32(0,t),e},e.fromLong=function(t){if(t=parseInt(t),Math.abs(t)>=Math.pow(2,53))throw new Error("Unable to accurately transfer numbers larger than 2^53 - 1 as integers. Number provided was "+t);var e=(Array(64).join("0")+Math.abs(t).toString(2)).slice(-64);0>t&&(e=this.twosCompliment(e));for(var n=new ArrayBuffer(8),r=new DataView(n),i=0;8>i;i++){var s=parseInt(e.substr(8*i,8),2);r.setUint8(i,s)}return n},e.twosCompliment=function(t){var e=t.lastIndexOf("1"),n=t.substring(0,e).replace(/1/g,"x").replace(/0/g,"1").replace(/x/g,"0");return t=n+t.substring(e)},e.fromDouble=function(t){var e=new ArrayBuffer(8);return new DataView(e).setFloat64(0,t),e},e.fromString=function(t){var e,n=unescape(encodeURIComponent(t)),r=n.length,i=new Uint8Array(r);for(e=0;r>e;e++)i[e]=n.charCodeAt(e);return i.buffer},e.toByte=function(t){return t.getUint8(0)},e.toBytes=function(t){var e,n=t.byteLength,r=new Uint8Array(n);for(e=0;n>e;e++)r[e]=t.getUint8(e);return r},e.toShort=function(t){return t.getInt16(0)},e.toInt=function(t){return t.getInt32(0)},e.toLong=function(t){for(var e=1,n="",r=0;8>r;r++)n+=(Array(8).join("0")+t.getUint8(r).toString(2)).slice(-8);"1"===n[0]&&(e=-1,n=this.twosCompliment(n));var i=n.indexOf("1");if(-1!=i&&10>i)throw new Error("Unable to receive number larger than 2^53 - 1 as an integer");return parseInt(n,2)*e},e.toDouble=function(t){return t.getFloat64(0)},e.toString=function(t){var e,n,r="",i=t.byteLength;for(e=0;i>e;e++)n=t.getUint8(e).toString(16),1==n.length&&(n="0"+n),r+="%"+n;return r=decodeURIComponent(r)},e}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r;(function(t,i){(function(){function s(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function u(t,e,n){var r=n.length;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,s=t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function c(t,e){for(var n=-1,r=t.length,i=-1,s=e.length,o=Array(r+s);++n<r;)o[n]=t[n];for(;++i<s;)o[n++]=e[i];return o}function f(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function p(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,r=t.length,i=-1,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[++i]=o)}return s}function d(t,e){return!!t.length&&b(t,e,0)>-1}function g(t,e,n){for(var r=-1,i=t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function v(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function y(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function _(t,e,n,r){var i=-1,s=t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function w(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function m(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function S(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(null!=o&&(u===Z?o===o:n(o,u)))var u=o,a=s}return a}function T(t,e,n,r){var i;return n(t,function(t,n,s){return e(t,n,s)?(i=r?n:t,!1):void 0}),i}function I(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function b(t,e,n){if(e!==e)return W(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function E(t,e,n,r,i){return i(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)}),n}function k(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function A(t,e){for(var n,r=-1,i=t.length;++r<i;){var s=e(t[r]);s!==Z&&(n=n===Z?s:n+s)}return n}function R(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function M(t,e){return v(e,function(e){return[e,t[e]]})}function B(t){return function(e){return t(e)}}function x(t,e){return v(e,function(e){return t[e]})}function L(t,e){for(var n=-1,r=t.length;++n<r&&b(e,t[n],0)>-1;);return n}function O(t,e){for(var n=t.length;n--&&b(e,t[n],0)>-1;);return n}function j(t){return t&&t.Object===Object?t:null}function N(t,e){if(t!==e){var n=null===t,r=t===Z,i=t===t,s=null===e,o=e===Z,u=e===e;if(t>e&&!s||!i||n&&!o&&u||r&&u)return 1;if(e>t&&!n||!u||s&&!r&&i||o&&i)return-1}return 0}function P(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,u=n.length;++r<o;){var a=N(i[r],s[r]);if(a){if(r>=u)return a;var c=n[r];return a*("desc"==c?-1:1)}}return t.index-e.index}function U(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function C(t){return In[t]}function D(t){return bn[t]}function q(t){return"\\"+An[t]}function W(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var s=t[i];if(s!==s)return i}return-1}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function F(t,e){return t="number"==typeof t||Re.test(t)?+t:-1,e=null==e?It:e,t>-1&&t%1==0&&e>t}function V(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function $(t,e){for(var n=-1,r=t.length,i=-1,s=[];++n<r;){var o=t[n];o!==e&&o!==Mt||(t[n]=Mt,s[++i]=n)}return s}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function J(t){if(!t||!gn.test(t))return t.length;for(var e=dn.lastIndex=0;dn.test(t);)e++;return e}function K(t){return t.match(dn)}function H(t){return En[t]}function X(t){function e(t){if(Do(t)&&!Tf(t)&&!(t instanceof i)){if(t instanceof r)return t;if(Va.call(t,"__wrapped__"))return Oi(t)}return new r(t)}function n(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Z}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=kt,this.__views__=[]}function j(){var t=new i(this.__wrapped__);return t.__actions__=Cr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Cr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Cr(this.__views__),t}function Re(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Le(){var t=this.__wrapped__.value(),e=this.__dir__,n=Tf(t),r=0>e,i=n?t.length:0,s=vi(0,i,this.__views__),o=s.start,u=s.end,a=u-o,c=r?u:o-1,f=this.__iteratees__,l=f.length,p=0,h=gc(a,this.__takeCount__);if(!n||vt>i||i==a&&h==a)return kr(t,this.__actions__);var d=[];t:for(;a--&&h>p;){c+=e;for(var g=-1,v=t[c];++g<l;){var y=f[g],_=y.iteratee,w=y.type,m=_(v);if(w==_t)v=m;else if(!m){if(w==yt)continue t;break t}}d[p++]=v}return d}function Oe(){}function je(t,e){return Pe(t,e)&&delete t[e]}function Ne(t,e){if(Tc){var n=t[e];return n===St?Z:n}return Va.call(t,e)?t[e]:Z}function Pe(t,e){return Tc?t[e]!==Z:Va.call(t,e)}function Ue(t,e,n){t[e]=Tc&&n===Z?St:n}function Ce(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function De(){this.__data__={hash:new Oe,map:wc?new wc:[],string:new Oe}}function qe(t){var e=this.__data__;return bi(t)?je("string"==typeof t?e.string:e.hash,t):wc?e.map["delete"](t):Qe(e.map,t)}function We(t){var e=this.__data__;return bi(t)?Ne("string"==typeof t?e.string:e.hash,t):wc?e.map.get(t):tn(e.map,t)}function ze(t){var e=this.__data__;return bi(t)?Pe("string"==typeof t?e.string:e.hash,t):wc?e.map.has(t):en(e.map,t)}function Fe(t,e){var n=this.__data__;return bi(t)?Ue("string"==typeof t?n.string:n.hash,t,e):wc?n.map.set(t,e):rn(n.map,t,e),this}function Ve(t){var e=-1,n=t?t.length:0;for(this.__data__=new Ce;++e<n;)this.push(t[e])}function Ge(t,e){var n=t.__data__;if(bi(e)){var r=n.__data__,i="string"==typeof e?r.string:r.hash;return i[e]===St}return n.has(e)}function $e(t){var e=this.__data__;if(bi(t)){var n=e.__data__,r="string"==typeof t?n.string:n.hash;r[t]=St}else e.set(t,St)}function Ye(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Je(){this.__data__={array:[],map:null}}function Ke(t){var e=this.__data__,n=e.array;return n?Qe(n,t):e.map["delete"](t)}function He(t){var e=this.__data__,n=e.array;return n?tn(n,t):e.map.get(t)}function Xe(t){var e=this.__data__,n=e.array;return n?en(n,t):e.map.has(t)}function Ze(t,e){var n=this.__data__,r=n.array;r&&(r.length<vt-1?rn(r,t,e):(n.array=null,n.map=new Ce(r)));var i=n.map;return i&&i.set(t,e),this}function Qe(t,e){var n=nn(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():ac.call(t,n,1),!0}function tn(t,e){var n=nn(t,e);return 0>n?Z:t[n][1]}function en(t,e){return nn(t,e)>-1}function nn(t,e){for(var n=t.length;n--;)if(mo(t[n][0],e))return n;return-1}function rn(t,e,n){var r=nn(t,e);0>r?t.push([e,n]):t[r][1]=n}function sn(t,e,n,r){return t===Z||mo(t,za[n])&&!Va.call(r,n)?e:t}function on(t,e,n){(n===Z||mo(t[e],n))&&("number"!=typeof e||n!==Z||e in t)||(t[e]=n)}function un(t,e,n){var r=t[e];Va.call(t,e)&&mo(r,n)&&(n!==Z||e in t)||(t[e]=n)}function an(t,e,n,r){return xc(t,function(t,i,s){e(r,t,n(t),s)}),r}function cn(t,e){return t&&Dr(e,Eu(e),t)}function fn(t,e){for(var n=-1,r=null==t,i=e.length,s=Array(i);++n<i;)s[n]=r?Z:Tu(t,e[n]);return s}function ln(t){return ko(t)?t:[]}function pn(t){return"function"==typeof t?t:da}function dn(t){return Tf(t)?t:Li(t)}function In(t,e,n){return t===t&&(n!==Z&&(t=n>=t?t:n),e!==Z&&(t=t>=e?t:e)),t}function bn(t,e,n,r,i,s){var o;if(n&&(o=i?n(t,r,i,s):n(t)),o!==Z)return o;if(!Co(t))return t;var u=Tf(t);if(u){if(o=_i(t),!e)return Cr(t,o)}else{var a=gi(t),c=a==Nt||a==Pt;if(If(t))return Mr(t,e);if(a==Dt||a==Bt||c&&!i){if(z(t))return i?t:{};if(o=wi(c?{}:t),!e)return Wr(t,cn(o,t))}else{if(!Tn[a])return i?t:{};o=mi(t,a,e)}}s||(s=new Ye);var l=s.get(t);return l?l:(s.set(t,o),(u?f:Dn)(t,function(r,i){un(o,i,bn(r,e,n,i,t,s))}),u?o:Wr(t,o))}function En(t){var e=Eu(t),n=e.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var s=e[i],o=t[s],u=r[s];if(u===Z&&!(s in Object(r))||!o(u))return!1}return!0}}function kn(t){return Co(t)?sc(t):{}}function An(t,e,n){if("function"!=typeof t)throw new qa(mt);return uc(function(){t.apply(Z,n)},e)}function Bn(t,e,n,r){var i=-1,s=d,o=!0,u=t.length,a=[],c=e.length;if(!u)return a;n&&(e=v(e,B(n))),r?(s=g,o=!1):e.length>=vt&&(s=Ge,o=!1,e=new Ve(e));t:for(;++i<u;){var f=t[i],l=n?n(f):f;if(o&&l===l){for(var p=c;p--;)if(e[p]===l)continue t;a.push(f)}else s(e,l,r)||a.push(f)}return a}function xn(t,e){var n=!0;return xc(t,function(t,r,i){return n=!!e(t,r,i)}),n}function On(t,e,n,r){var i=t.length;for(n=uu(n),0>n&&(n=-n>i?0:i+n),r=r===Z||r>i?i:uu(r),0>r&&(r+=i),r=n>r?0:au(r);r>n;)t[n++]=e;return t}function jn(t,e){var n=[];return xc(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Nn(t,e,n,r){r||(r=[]);for(var i=-1,s=t.length;++i<s;){var o=t[i];e>0&&ko(o)&&(n||Tf(o)||Io(o))?e>1?Nn(o,e-1,n,r):y(r,o):n||(r[r.length]=o)}return r}function Pn(t,e){return null==t?t:Oc(t,e,ku)}function Dn(t,e){return t&&Oc(t,e,Eu)}function qn(t,e){return t&&jc(t,e,Eu)}function Wn(t,e){return h(e,function(e){return No(t[e])})}function zn(t,e){e=Ii(e,t)?[e+""]:dn(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:Z}function Fn(t,e){return Va.call(t,e)||"object"==typeof t&&e in t&&null===nc(t)}function Vn(t,e){return e in Object(t)}function Gn(t,e,n){return t>=gc(e,n)&&t<dc(e,n)}function $n(t,e,n){for(var r=n?g:d,i=t.length,s=i,o=Array(i),u=[];s--;){var a=t[s];s&&e&&(a=v(a,B(e))),o[s]=!n&&(e||a.length>=120)?new Ve(s&&a):Z}a=t[0];var c=-1,f=a.length,l=o[0];t:for(;++c<f;){var p=a[c],h=e?e(p):p;if(!(l?Ge(l,h):r(u,h,n))){for(var s=i;--s;){var y=o[s];if(!(y?Ge(y,h):r(t[s],h,n)))continue t}l&&l.push(h),u.push(p)}}return u}function Yn(t,e,n,r){return Dn(t,function(t,i,s){e(r,n(t),i,s)}),r}function Jn(t,e,n){Ii(e,t)||(e=dn(e),t=Bi(t,e),e=Xi(e));var r=null==t?t:t[e];return null==r?Z:u(r,t,n)}function Kn(t,e,n,r,i){return t===e?!0:null==t||null==e||!Co(t)&&!Do(e)?t!==t&&e!==e:Hn(t,e,Kn,n,r,i)}function Hn(t,e,n,r,i,s){var o=Tf(t),u=Tf(e),a=xt,c=xt;o||(a=gi(t),a==Bt?a=Dt:a!=Dt&&(o=tu(t))),u||(c=gi(e),c==Bt?c=Dt:c!=Dt&&(u=tu(e)));var f=a==Dt&&!z(t),l=c==Dt&&!z(e),p=a==c;if(p&&!o&&!f)return ai(t,e,a,n,r,i);var h=i&lt;if(!h){var d=f&&Va.call(t,"__wrapped__"),g=l&&Va.call(e,"__wrapped__");if(d||g)return n(d?t.value():t,g?e.value():e,r,i,s)}return p?(s||(s=new Ye),(o?ui:ci)(t,e,n,r,i,s)):!1}function Xn(t,e,n,r){var i=n.length,s=i,o=!r;if(null==t)return!s;for(t=Object(t);i--;){var u=n[i];if(o&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){u=n[i];var a=u[0],c=t[a],f=u[1];if(o&&u[2]){if(c===Z&&!(a in t))return!1}else{var l=new Ye,p=r?r(c,f,a,t,e,l):Z;if(!(p===Z?Kn(f,c,r,ft|lt,l):p))return!1}}return!0}function Zn(t){var e=typeof t;return"function"==e?t:null==t?da:"object"==e?Tf(t)?rr(t[0],t[1]):nr(t):Ta(t)}function Qn(t){return hc(Object(t))}function tr(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function er(t,e){var n=-1,r=Eo(t)?Array(t.length):[];return xc(t,function(t,i,s){r[++n]=e(t,i,s)}),r}function nr(t){var e=pi(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==Z||n in Object(t))}}return function(n){return n===t||Xn(n,t,e)}}function rr(t,e){return function(n){var r=Tu(n,t);return r===Z&&r===e?bu(n,t):Kn(e,r,Z,ft|lt)}}function ir(t,e,n,r,i){if(t!==e){var s=Tf(e)||tu(e)?Z:ku(e);f(s||e,function(o,u){if(s&&(u=o,o=e[u]),Co(o))i||(i=new Ye),sr(t,e,u,n,ir,r,i);else{var a=r?r(t[u],o,u+"",t,e,i):Z;a===Z&&(a=o),on(t,u,a)}})}}function sr(t,e,n,r,i,s,o){var u=t[n],a=e[n],c=o.get(a);if(c)return void on(t,n,c);var f=s?s(u,a,n+"",t,e,o):Z,l=f===Z;l&&(f=a,Tf(a)||tu(a)?Tf(u)?f=u:ko(u)?f=Cr(u):(l=!1,f=bn(a,!0)):Jo(a)||Io(a)?Io(u)?f=fu(u):!Co(u)||r&&No(u)?(l=!1,f=bn(a,!0)):f=u:l=!1),o.set(a,f),l&&i(f,a,r,s,o),on(t,n,f)}function or(t,e,n){var r=-1,i=li();e=v(e.length?e:Array(1),function(t){return i(t)});var s=er(t,function(t,n,i){var s=v(e,function(e){return e(t)});return{criteria:s,index:++r,value:t}});return k(s,function(t,e){return P(t,e,n)})}function ur(t,e){return t=Object(t),_(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function ar(t,e){var n={};return Pn(t,function(t,r){e(t,r)&&(n[r]=t)}),n}function cr(t){return function(e){return null==e?Z:e[t]}}function fr(t){return function(e){return zn(e,t)}}function lr(t,e){return pr(t,e)}function pr(t,e,n){var r=-1,i=e.length,s=t;for(n&&(s=v(t,function(t){return n(t)}));++r<i;)for(var o=0,u=e[r],a=n?n(u):u;(o=b(s,a,o))>-1;)s!==t&&ac.call(s,o,1),ac.call(t,o,1);return t}function hr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(r==n||i!=s){var s=i;if(F(i))ac.call(t,i,1);else if(Ii(i,t))delete t[i];else{var o=dn(i),u=Bi(t,o);null!=u&&delete u[Xi(o)]}}}return t}function dr(t,e){return t+fc(yc()*(e-t+1))}function gr(t,e,n,r){for(var i=-1,s=dc(cc((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}function vr(t,e,n,r){e=Ii(e,t)?[e+""]:dn(e);for(var i=-1,s=e.length,o=s-1,u=t;null!=u&&++i<s;){var a=e[i];if(Co(u)){var c=n;if(i!=o){var f=u[a];c=r?r(f,a,u):Z,c===Z&&(c=null==f?F(e[i+1])?[]:{}:f)}un(u,a,c)}u=u[a]}return t}function yr(t,e,n){var r=-1,i=t.length;0>e&&(e=-e>i?0:i+e),n=n>i?i:n,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function _r(t,e){var n;return xc(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function wr(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Rt>=i){for(;i>r;){var s=r+i>>>1,o=t[s];(n?e>=o:e>o)&&null!==o?r=s+1:i=s}return i}return mr(t,e,da,n)}function mr(t,e,n,r){e=n(e);for(var i=0,s=t?t.length:0,o=e!==e,u=null===e,a=e===Z;s>i;){var c=fc((i+s)/2),f=n(t[c]),l=f!==Z,p=f===f;if(o)var h=p||r;else h=u?p&&l&&(r||null!=f):a?p&&(r||l):null==f?!1:r?e>=f:e>f;h?i=c+1:s=c}return gc(s,At)}function Sr(t){return Tr(t)}function Tr(t,e){for(var n=0,r=t.length,i=t[0],s=e?e(i):i,o=s,u=0,a=[i];++n<r;)i=t[n],s=e?e(i):i,mo(s,o)||(o=s,a[++u]=i);return a}function Ir(t,e,n){var r=-1,i=d,s=t.length,o=!0,u=[],a=u;if(n)o=!1,i=g;else if(s>=vt){var c=e?null:Pc(t);if(c)return Y(c);o=!1,i=Ge,a=new Ve}else a=e?[]:u;t:for(;++r<s;){var f=t[r],l=e?e(f):f;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===l)continue t;e&&a.push(l),u.push(f)}else i(a,l,n)||(a!==u&&a.push(l),u.push(f))}return u}function br(t,e){e=Ii(e,t)?[e+""]:dn(e),t=Bi(t,e);var n=Xi(e);return null!=t&&Iu(t,n)?delete t[n]:!0}function Er(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?yr(t,r?0:s,r?s+1:i):yr(t,r?s+1:0,r?i:s)}function kr(t,e){var n=t;return n instanceof i&&(n=n.value()),_(e,function(t,e){return e.func.apply(e.thisArg,y([t],e.args))},n)}function Ar(t,e,n){for(var r=-1,i=t.length;++r<i;)var s=s?y(Bn(s,t[r],e,n),Bn(t[r],s,e,n)):t[r];return s&&s.length?Ir(s,e,n):[]}function Rr(t,e,n){for(var r=-1,i=t.length,s=e.length,o={};++r<i;)n(o,t[r],s>r?e[r]:Z);return o}function Mr(t,e){if(e)return t.slice();var n=t.constructor,r=new n(t.length);return t.copy(r),r}function Br(t){var e=t.constructor,n=new e(t.byteLength),r=new Qa(n);return r.set(new Qa(t)),n}function xr(t){var e=t.constructor;return _(G(t),s,new e)}function Lr(t){var e=t.constructor,n=new e(t.source,Te.exec(t));return n.lastIndex=t.lastIndex,n}function Or(t){var e=t.constructor;return _(Y(t),o,new e)}function jr(t){return Za?Object(Rc.call(t)):{}}function Nr(t,e){var n=t.buffer,r=e?Br(n):n,i=t.constructor;return new i(r,t.byteOffset,t.length)}function Pr(t,e,n,r){for(var i=-1,s=t.length,o=n.length,u=-1,a=e.length,c=dc(s-o,0),f=Array(a+c),l=!r;++u<a;)f[u]=e[u];for(;++i<o;)(l||s>i)&&(f[n[i]]=t[i]);for(;c--;)f[u++]=t[i++];return f}function Ur(t,e,n,r){for(var i=-1,s=t.length,o=-1,u=n.length,a=-1,c=e.length,f=dc(s-u,0),l=Array(f+c),p=!r;++i<f;)l[i]=t[i];for(var h=i;++a<c;)l[h+a]=e[a];for(;++o<u;)(p||s>i)&&(l[h+n[o]]=t[i++]);return l}function Cr(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Dr(t,e,n){return qr(t,e,n)}function qr(t,e,n,r){n||(n={});for(var i=-1,s=e.length;++i<s;){var o=e[i],u=r?r(n[o],t[o],o,n,t):t[o];un(n,o,u)}return n}function Wr(t,e){return Dr(t,Dc(t),e)}function zr(t,e){return function(n,r){var i=Tf(n)?a:an,s=e?e():{};return i(n,t,li(r),s)}}function Fr(t){return co(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:Z,o=i>2?n[2]:Z;for(s="function"==typeof s?(i--,s):Z,o&&Ti(n[0],n[1],o)&&(s=3>i?Z:s,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,s)}return e})}function Vr(t,e){return function(n,r){if(null==n)return n;if(!Eo(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}function Gr(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),u=o.length;u--;){var a=o[t?u:++i];if(n(s[a],a,s)===!1)break}return e}}function $r(t,e,n){function r(){var e=this&&this!==Un&&this instanceof r?s:t;return e.apply(i?n:this,arguments)}var i=e&tt,s=Kr(t);return r}function Yr(t){return function(e){e=pu(e);var n=gn.test(e)?K(e):Z,r=n?n[0]:e.charAt(0),i=n?n.slice(1).join(""):e.slice(1);return r[t]()+i}}function Jr(t){return function(e){return _(fa(Vu(e)),t,"")}}function Kr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=kn(t.prototype),r=t.apply(n,e);return Co(r)?r:n}}function Hr(t,e,n){function r(){for(var s=arguments.length,o=Array(s),a=s,c=di(r);a--;)o[a]=arguments[a];var f=3>s&&o[0]!==c&&o[s-1]!==c?[]:$(o,c);if(s-=f.length,n>s)return ii(t,e,Zr,r.placeholder,Z,o,f,Z,Z,n-s);var l=this&&this!==Un&&this instanceof r?i:t;return u(l,this,o)}var i=Kr(t);return r}function Xr(t){return co(function(e){e=Nn(e,1);var n=e.length,i=n,s=r.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new qa(mt);if(s&&!u&&"wrapper"==fi(o))var u=new r([],!0)}for(i=u?i:n;++i<n;){o=e[i];var a=fi(o),c="wrapper"==a?Uc(o):Z;u=c&&Ei(c[0])&&c[1]==(ut|rt|st|at)&&!c[4].length&&1==c[9]?u[fi(c[0])].apply(u,c[3]):1==o.length&&Ei(o)?u[a]():u.thru(o)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Tf(r)&&r.length>=vt)return u.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}})}function Zr(t,e,n,r,i,s,o,u,a,c){function f(){for(var y=arguments.length,_=y,w=Array(y);_--;)w[_]=arguments[_];if(d)var m=di(f),S=U(w,m);if(r&&(w=Pr(w,r,i,d)),s&&(w=Ur(w,s,o,d)),y-=S,d&&c>y){var T=$(w,m);return ii(t,e,Zr,f.placeholder,n,w,T,u,a,c-y)}var I=p?n:this,b=h?I[t]:t;return y=w.length,u?w=xi(w,u):g&&y>1&&w.reverse(),l&&y>a&&(w.length=a),this&&this!==Un&&this instanceof f&&(b=v||Kr(b)),b.apply(I,w)}var l=e&ut,p=e&tt,h=e&et,d=e&(rt|it),g=e&ct,v=h?Z:Kr(t);return f}function Qr(t,e){return function(n,r){return Yn(n,t,e(r),{})}}function ti(t){return co(function(e){return e=v(Nn(e,1),li()),co(function(n){var r=this;return t(e,function(t){return u(t,r,n)})})})}function ei(t,e,n){e=uu(e);var r=J(t);if(!e||r>=e)return"";var i=e-r;n=n===Z?" ":n+"";var s=Zu(n,cc(i/J(n)));return gn.test(n)?K(s).slice(0,i).join(""):s.slice(0,i)}function ni(t,e,n,r){function i(){for(var e=-1,a=arguments.length,c=-1,f=r.length,l=Array(f+a),p=this&&this!==Un&&this instanceof i?o:t;++c<f;)l[c]=r[c];for(;a--;)l[c++]=arguments[++e];return u(p,s?n:this,l)}var s=e&tt,o=Kr(t);return i}function ri(t){return function(e,n,r){return r&&"number"!=typeof r&&Ti(e,n,r)&&(n=r=Z),e=cu(e),e=e===e?e:0,n===Z?(n=e,e=0):n=cu(n)||0,r=r===Z?n>e?1:-1:cu(r)||0,gr(e,n,r,t)}}function ii(t,e,n,r,i,s,o,u,a,c){var f=e&rt,l=u?Cr(u):Z,p=f?o:Z,h=f?Z:o,d=f?s:Z,g=f?Z:s;e|=f?st:ot,e&=~(f?ot:st),
e&nt||(e&=~(tt|et));var v=[t,e,i,d,p,g,h,l,a,c],y=n.apply(Z,v);return Ei(t)&&qc(y,v),y.placeholder=r,y}function si(t){var e=Ca[t];return function(t,n){if(t=cu(t),n=uu(n)){var r=(pu(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(pu(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function oi(t,e,n,r,i,s,o,u){var a=e&et;if(!a&&"function"!=typeof t)throw new qa(mt);var c=r?r.length:0;if(c||(e&=~(st|ot),r=i=Z),o=o===Z?o:dc(uu(o),0),u=u===Z?u:uu(u),c-=i?i.length:0,e&ot){var f=r,l=i;r=i=Z}var p=a?Z:Uc(t),h=[t,e,n,r,i,f,l,s,o,u];if(p&&Ri(h,p),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],u=h[9]=null==h[9]?a?0:t.length:dc(h[9]-c,0),!u&&e&(rt|it)&&(e&=~(rt|it)),e&&e!=tt)d=e==rt||e==it?Hr(t,e,u):e!=st&&e!=(tt|st)||i.length?Zr.apply(Z,h):ni(t,e,n,r);else var d=$r(t,e,n);var g=p?Nc:qc;return g(d,h)}function ui(t,e,n,r,i,s){var o=-1,u=i&lt,a=i&ft,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=s.get(t);if(l)return l==e;var p=!0;for(s.set(t,e);++o<c;){var h=t[o],d=e[o];if(r)var g=u?r(d,h,o,e,t,s):r(h,d,o,t,e,s);if(g!==Z){if(g)continue;p=!1;break}if(a){if(!m(e,function(t){return h===t||n(h,t,r,i,s)})){p=!1;break}}else if(h!==d&&!n(h,d,r,i,s)){p=!1;break}}return s["delete"](t),p}function ai(t,e,n,r,i,s){switch(n){case $t:return!(t.byteLength!=e.byteLength||!r(new Qa(t),new Qa(e)));case Lt:case Ot:return+t==+e;case jt:return t.name==e.name&&t.message==e.message;case Ct:return t!=+t?e!=+e:t==+e;case qt:case zt:return t==e+"";case Ut:var o=G;case Wt:var u=s&lt;return o||(o=Y),(u||t.size==e.size)&&r(o(t),o(e),i,s|ft);case Ft:return!!Za&&Rc.call(t)==Rc.call(e)}return!1}function ci(t,e,n,r,i,s){var o=i&lt,u=Eu(t),a=u.length,c=Eu(e),f=c.length;if(a!=f&&!o)return!1;for(var l=a;l--;){var p=u[l];if(!(o?p in e:Fn(e,p)))return!1}var h=s.get(t);if(h)return h==e;var d=!0;s.set(t,e);for(var g=o;++l<a;){p=u[l];var v=t[p],y=e[p];if(r)var _=o?r(y,v,p,e,t,s):r(v,y,p,t,e,s);if(!(_===Z?v===y||n(v,y,r,i,s):_)){d=!1;break}g||(g="constructor"==p)}if(d&&!g){var w=t.constructor,m=e.constructor;w!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof m&&m instanceof m)&&(d=!1)}return s["delete"](t),d}function fi(t){for(var e=t.name+"",n=Bc[e],r=Va.call(Bc,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function li(){var t=e.iteratee||ga;return t=t===ga?Zn:t,arguments.length?t(arguments[0],arguments[1]):t}function pi(t){for(var e=ju(t),n=e.length;n--;)e[n][2]=Ai(e[n][1]);return e}function hi(t,e){var n=null==t?Z:t[e];return Vo(n)?n:Z}function di(t){var n=Va.call(e,"placeholder")?e:t;return n.placeholder}function gi(t){return Ya.call(t)}function vi(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=gc(e,t+o);break;case"takeRight":t=dc(t,e-o)}}return{start:t,end:e}}function yi(t,e,n){if(null==t)return!1;var r=n(t,e);r||Ii(e)||(e=dn(e),t=Bi(t,e),null!=t&&(e=Xi(e),r=n(t,e)));var i=t?t.length:Z;return r||!!i&&Uo(i)&&F(e,i)&&(Tf(t)||Zo(t)||Io(t))}function _i(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Va.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function wi(t){return No(t.constructor)&&!ki(t)?kn(nc(t)):{}}function mi(t,e,n){var r=t.constructor;switch(e){case $t:return Br(t);case Lt:case Ot:return new r(+t);case Yt:case Jt:case Kt:case Ht:case Xt:case Zt:case Qt:case te:case ee:return Nr(t,n);case Ut:return xr(t);case Ct:case zt:return new r(t);case qt:return Lr(t);case Wt:return Or(t);case Ft:return jr(t)}}function Si(t){var e=t?t.length:Z;return Uo(e)&&(Tf(t)||Zo(t)||Io(t))?R(e,String):null}function Ti(t,e,n){if(!Co(n))return!1;var r=typeof e;return("number"==r?Eo(n)&&F(e,n.length):"string"==r&&e in n)?mo(n[e],t):!1}function Ii(t,e){return"number"==typeof t?!0:!Tf(t)&&(he.test(t)||!pe.test(t)||null!=e&&t in Object(e))}function bi(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}function Ei(t){var n=fi(t),r=e[n];if("function"!=typeof r||!(n in i.prototype))return!1;if(t===r)return!0;var s=Uc(r);return!!s&&t===s[0]}function ki(t){var e=t&&t.constructor,n=No(e)&&e.prototype||za;return t===n}function Ai(t){return t===t&&!Co(t)}function Ri(t,e){var n=t[1],r=e[1],i=n|r,s=(tt|et|ut)>i,o=r==ut&&n==rt||r==ut&&n==at&&t[7].length<=e[8]||r==(ut|at)&&e[7].length<=e[8]&&n==rt;if(!s&&!o)return t;r&tt&&(t[2]=e[2],i|=n&tt?0:nt);var u=e[3];if(u){var a=t[3];t[3]=a?Pr(a,u,e[4]):Cr(u),t[4]=a?$(t[3],Mt):Cr(e[4])}return u=e[5],u&&(a=t[5],t[5]=a?Ur(a,u,e[6]):Cr(u),t[6]=a?$(t[5],Mt):Cr(e[6])),u=e[7],u&&(t[7]=Cr(u)),r&ut&&(t[8]=null==t[8]?e[8]:gc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Mi(t,e,n,r,i,s){return Co(t)&&Co(e)&&(s.set(e,t),ir(t,e,Z,Mi,s)),t}function Bi(t,e){return 1==e.length?t:Tu(t,yr(e,0,-1))}function xi(t,e){for(var n=t.length,r=gc(e.length,n),i=Cr(t);r--;){var s=e[r];t[r]=F(s,n)?i[s]:Z}return t}function Li(t){var e=[];return pu(t).replace(de,function(t,n,r,i){e.push(r?i.replace(me,"$1"):n||t)}),e}function Oi(t){if(t instanceof i)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=Cr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ji(t,e){e=dc(uu(e),0);var n=t?t.length:0;if(!n||1>e)return[];for(var r=0,i=-1,s=Array(cc(n/e));n>r;)s[++i]=yr(t,r,r+=e);return s}function Ni(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var s=t[e];s&&(i[++r]=s)}return i}function Pi(t,e,n){var r=t?t.length:0;return r?(e=n||e===Z?1:uu(e),yr(t,0>e?0:e,r)):[]}function Ui(t,e,n){var r=t?t.length:0;return r?(e=n||e===Z?1:uu(e),e=r-e,yr(t,0,0>e?0:e)):[]}function Ci(t,e){return t&&t.length?Er(t,li(e,3),!0,!0):[]}function Di(t,e){return t&&t.length?Er(t,li(e,3),!0):[]}function qi(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Ti(t,e,n)&&(n=0,r=i),On(t,e,n,r)):[]}function Wi(t,e){return t&&t.length?I(t,li(e,3)):-1}function zi(t,e){return t&&t.length?I(t,li(e,3),!0):-1}function Fi(t){var e=t?t.length:0;return e?Nn(t,1):[]}function Vi(t){var e=t?t.length:0;return e?Nn(t,Tt):[]}function Gi(t,e){var n=t?t.length:0;return n?(e=e===Z?1:uu(e),Nn(t,e)):[]}function $i(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function Yi(t){return t?t[0]:Z}function Ji(t,e,n){var r=t?t.length:0;return r?(n=uu(n),0>n&&(n=dc(r+n,0)),b(t,e,n)):-1}function Ki(t){return Ui(t,1)}function Hi(t,e){return t?pc.call(t,e):""}function Xi(t){var e=t?t.length:0;return e?t[e-1]:Z}function Zi(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==Z&&(i=uu(n),i=(0>i?dc(r+i,0):gc(i,r-1))+1),e!==e)return W(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Qi(t,e){return t&&t.length&&e&&e.length?lr(t,e):t}function ts(t,e,n){return t&&t.length&&e&&e.length?pr(t,e,li(n)):t}function es(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=li(e,3);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return hr(t,i),n}function ns(t){return t?_c.call(t):t}function rs(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Ti(t,e,n)?(e=0,n=r):(e=null==e?0:uu(e),n=n===Z?r:uu(n)),yr(t,e,n)):[]}function is(t,e){return wr(t,e)}function ss(t,e,n){return mr(t,e,li(n))}function os(t,e){var n=t?t.length:0;if(n){var r=wr(t,e);if(n>r&&mo(t[r],e))return r}return-1}function us(t,e){return wr(t,e,!0)}function as(t,e,n){return mr(t,e,li(n),!0)}function cs(t,e){var n=t?t.length:0;if(n){var r=wr(t,e,!0)-1;if(mo(t[r],e))return r}return-1}function fs(t){return t&&t.length?Sr(t):[]}function ls(t,e){return t&&t.length?Tr(t,li(e)):[]}function ps(t){return Pi(t,1)}function hs(t,e,n){return t&&t.length?(e=n||e===Z?1:uu(e),yr(t,0,0>e?0:e)):[]}function ds(t,e,n){var r=t?t.length:0;return r?(e=n||e===Z?1:uu(e),e=r-e,yr(t,0>e?0:e,r)):[]}function gs(t,e){return t&&t.length?Er(t,li(e,3),!1,!0):[]}function vs(t,e){return t&&t.length?Er(t,li(e,3)):[]}function ys(t){return t&&t.length?Ir(t):[]}function _s(t,e){return t&&t.length?Ir(t,li(e)):[]}function ws(t,e){return t&&t.length?Ir(t,Z,e):[]}function ms(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){return ko(t)?(e=dc(t.length,e),!0):void 0}),R(e,function(e){return v(t,cr(e))})}function Ss(t,e){if(!t||!t.length)return[];var n=ms(t);return null==e?n:v(n,function(t){return u(e,Z,t)})}function Ts(t,e){return Rr(t||[],e||[],un)}function Is(t,e){return Rr(t||[],e||[],vr)}function bs(t){var n=e(t);return n.__chain__=!0,n}function Es(t,e){return e(t),t}function ks(t,e){return e(t)}function As(){return bs(this)}function Rs(){return new r(this.value(),this.__chain__)}function Ms(t){return this.map(t).flatten()}function Bs(){this.__values__===Z&&(this.__values__=ou(this.value()));var t=this.__index__>=this.__values__.length,e=t?Z:this.__values__[this.__index__++];return{done:t,value:e}}function xs(){return this}function Ls(t){for(var e,r=this;r instanceof n;){var i=Oi(r);i.__index__=0,i.__values__=Z,e?s.__wrapped__=i:e=i;var s=i;r=r.__wrapped__}return s.__wrapped__=t,e}function Os(){var t=this.__wrapped__;if(t instanceof i){var e=t;return this.__actions__.length&&(e=new i(this)),e=e.reverse(),e.__actions__.push({func:ks,args:[ns],thisArg:Z}),new r(e,this.__chain__)}return this.thru(ns)}function js(){return kr(this.__wrapped__,this.__actions__)}function Ns(t,e,n){var r=Tf(t)?p:xn;return n&&Ti(t,e,n)&&(e=Z),r(t,li(e,3))}function Ps(t,e){var n=Tf(t)?h:jn;return n(t,li(e,3))}function Us(t,e){if(e=li(e,3),Tf(t)){var n=I(t,e);return n>-1?t[n]:Z}return T(t,e,xc)}function Cs(t,e){if(e=li(e,3),Tf(t)){var n=I(t,e,!0);return n>-1?t[n]:Z}return T(t,e,Lc)}function Ds(t,e){return Nn(Fs(t,e),1)}function qs(t,e){return"function"==typeof e&&Tf(t)?f(t,e):xc(t,pn(e))}function Ws(t,e){return"function"==typeof e&&Tf(t)?l(t,e):Lc(t,pn(e))}function zs(t,e,n,r){t=Eo(t)?t:Cu(t),n=n&&!r?uu(n):0;var i=t.length;return 0>n&&(n=dc(i+n,0)),Zo(t)?i>=n&&t.indexOf(e,n)>-1:!!i&&b(t,e,n)>-1}function Fs(t,e){var n=Tf(t)?v:er;return n(t,li(e,3))}function Vs(t,e,n,r){return null==t?[]:(Tf(e)||(e=null==e?[]:[e]),n=r?Z:n,Tf(n)||(n=null==n?[]:[n]),or(t,e,n))}function Gs(t,e,n){var r=Tf(t)?_:E,i=arguments.length<3;return r(t,li(e,4),n,i,xc)}function $s(t,e,n){var r=Tf(t)?w:E,i=arguments.length<3;return r(t,li(e,4),n,i,Lc)}function Ys(t,e){var n=Tf(t)?h:jn;return e=li(e,3),n(t,function(t,n,r){return!e(t,n,r)})}function Js(t){var e=Eo(t)?t:Cu(t),n=e.length;return n>0?e[dr(0,n-1)]:Z}function Ks(t,e){var n=-1,r=ou(t),i=r.length,s=i-1;for(e=In(uu(e),0,i);++n<e;){var o=dr(n,s),u=r[o];r[o]=r[n],r[n]=u}return r.length=e,r}function Hs(t){return Ks(t,kt)}function Xs(t){if(null==t)return 0;if(Eo(t)){var e=t.length;return e&&Zo(t)?J(t):e}return Eu(t).length}function Zs(t,e,n){var r=Tf(t)?m:_r;return n&&Ti(t,e,n)&&(e=Z),r(t,li(e,3))}function Qs(t,e){if("function"!=typeof e)throw new qa(mt);return t=uu(t),function(){return--t<1?e.apply(this,arguments):void 0}}function to(t,e,n){return e=n?Z:e,e=t&&null==e?t.length:e,oi(t,ut,Z,Z,Z,Z,e)}function eo(t,e){var n;if("function"!=typeof e)throw new qa(mt);return t=uu(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=Z),n}}function no(t,e,n){e=n?Z:e;var r=oi(t,rt,Z,Z,Z,Z,Z,e);return r.placeholder=no.placeholder,r}function ro(t,e,n){e=n?Z:e;var r=oi(t,it,Z,Z,Z,Z,Z,e);return r.placeholder=ro.placeholder,r}function io(t,e,n){function r(){d&&tc(d),f&&tc(f),v=0,c=f=h=d=g=Z}function i(e,n){n&&tc(n),f=d=g=Z,e&&(v=hf(),l=t.apply(h,c),d||f||(c=h=Z))}function s(){var t=e-(hf()-p);0>=t||t>e?i(g,f):d=uc(s,t)}function o(){return(d&&g||f&&w)&&(l=t.apply(h,c)),r(),l}function u(){i(w,d)}function a(){if(c=arguments,p=hf(),h=this,g=w&&(d||!y),_===!1)var n=y&&!d;else{v||f||y||(v=p);var r=_-(p-v),i=(0>=r||r>_)&&(y||f);i?(f&&(f=tc(f)),v=p,l=t.apply(h,c)):f||(f=uc(u,r))}return i&&d?d=tc(d):d||e===_||(d=uc(s,e)),n&&(i=!0,l=t.apply(h,c)),!i||d||f||(c=h=Z),l}var c,f,l,p,h,d,g,v=0,y=!1,_=!1,w=!0;if("function"!=typeof t)throw new qa(mt);return e=cu(e)||0,Co(n)&&(y=!!n.leading,_="maxWait"in n&&dc(cu(n.maxWait)||0,e),w="trailing"in n?!!n.trailing:w),a.cancel=r,a.flush=o,a}function so(t){return oi(t,ct)}function oo(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new qa(mt);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new oo.Cache,n}function uo(t){if("function"!=typeof t)throw new qa(mt);return function(){return!t.apply(this,arguments)}}function ao(t){return eo(2,t)}function co(t,e){if("function"!=typeof t)throw new qa(mt);return e=dc(e===Z?t.length-1:uu(e),0),function(){for(var n=arguments,r=-1,i=dc(n.length-e,0),s=Array(i);++r<i;)s[r]=n[e+r];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var o=Array(e+1);for(r=-1;++r<e;)o[r]=n[r];return o[e]=s,u(t,this,o)}}function fo(t,e){if("function"!=typeof t)throw new qa(mt);return e=e===Z?0:dc(uu(e),0),co(function(n){var r=n[e],i=n.slice(0,e);return r&&y(i,r),u(t,this,i)})}function lo(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new qa(mt);return Co(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),io(t,e,{leading:r,maxWait:e,trailing:i})}function po(t){return to(t,1)}function ho(t,e){return e=null==e?da:e,wf(e,t)}function go(){if(!arguments.length)return[];var t=arguments[0];return Tf(t)?t:[t]}function vo(t){return bn(t)}function yo(t,e){return bn(t,!1,e)}function _o(t){return bn(t,!0)}function wo(t,e){return bn(t,!0,e)}function mo(t,e){return t===e||t!==t&&e!==e}function So(t,e){return t>e}function To(t,e){return t>=e}function Io(t){return ko(t)&&Va.call(t,"callee")&&(!oc.call(t,"callee")||Ya.call(t)==Bt)}function bo(t){return Do(t)&&Ya.call(t)==$t}function Eo(t){return null!=t&&!("function"==typeof t&&No(t))&&Uo(Cc(t))}function ko(t){return Do(t)&&Eo(t)}function Ao(t){return t===!0||t===!1||Do(t)&&Ya.call(t)==Lt}function Ro(t){return Do(t)&&Ya.call(t)==Ot}function Mo(t){return!!t&&1===t.nodeType&&Do(t)&&!Jo(t)}function Bo(t){if(Eo(t)&&(Tf(t)||Zo(t)||No(t.splice)||Io(t)))return!t.length;for(var e in t)if(Va.call(t,e))return!1;return!0}function xo(t,e){return Kn(t,e)}function Lo(t,e,n){n="function"==typeof n?n:Z;var r=n?n(t,e):Z;return r===Z?Kn(t,e,n):!!r}function Oo(t){return Do(t)?Ya.call(t)==jt||"string"==typeof t.message&&"string"==typeof t.name:!1}function jo(t){return"number"==typeof t&&lc(t)}function No(t){var e=Co(t)?Ya.call(t):"";return e==Nt||e==Pt}function Po(t){return"number"==typeof t&&t==uu(t)}function Uo(t){return"number"==typeof t&&t>-1&&t%1==0&&It>=t}function Co(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Do(t){return!!t&&"object"==typeof t}function qo(t){return Do(t)&&gi(t)==Ut}function Wo(t,e){return t===e||Xn(t,e,pi(e))}function zo(t,e,n){return n="function"==typeof n?n:Z,Xn(t,e,pi(e),n)}function Fo(t){return Yo(t)&&t!=+t}function Vo(t){return null==t?!1:No(t)?Ka.test(Fa.call(t)):Do(t)&&(z(t)?Ka:ke).test(t)}function Go(t){return null===t}function $o(t){return null==t}function Yo(t){return"number"==typeof t||Do(t)&&Ya.call(t)==Ct}function Jo(t){if(!Do(t)||Ya.call(t)!=Dt||z(t))return!1;var e=nc(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&Fa.call(n)==$a}function Ko(t){return Co(t)&&Ya.call(t)==qt}function Ho(t){return Po(t)&&t>=-It&&It>=t}function Xo(t){return Do(t)&&gi(t)==Wt}function Zo(t){return"string"==typeof t||!Tf(t)&&Do(t)&&Ya.call(t)==zt}function Qo(t){return"symbol"==typeof t||Do(t)&&Ya.call(t)==Ft}function tu(t){return Do(t)&&Uo(t.length)&&!!Sn[Ya.call(t)]}function eu(t){return t===Z}function nu(t){return Do(t)&&gi(t)==Vt}function ru(t){return Do(t)&&Ya.call(t)==Gt}function iu(t,e){return e>t}function su(t,e){return e>=t}function ou(t){if(!t)return[];if(Eo(t))return Zo(t)?K(t):Cr(t);if(ic&&t[ic])return V(t[ic]());var e=gi(t),n=e==Ut?G:e==Wt?Y:Cu;return n(t)}function uu(t){if(!t)return 0===t?t:0;if(t=cu(t),t===Tt||t===-Tt){var e=0>t?-1:1;return e*bt}var n=t%1;return t===t?n?t-n:t:0}function au(t){return t?In(uu(t),0,kt):0}function cu(t){if(Co(t)){var e=No(t.valueOf)?t.valueOf():t;t=Co(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ye,"");var n=Ee.test(t);return n||Ae.test(t)?Mn(t.slice(2),n?2:8):be.test(t)?Et:+t}function fu(t){return Dr(t,ku(t))}function lu(t){return In(uu(t),-It,It)}function pu(t){if("string"==typeof t)return t;if(null==t)return"";if(Qo(t))return Za?Mc.call(t):"";var e=t+"";return"0"==e&&1/t==-Tt?"-0":e}function hu(t,e){var n=kn(t);return e?cn(n,e):n}function du(t,e){return T(t,li(e,3),Dn,!0)}function gu(t,e){return T(t,li(e,3),qn,!0)}function vu(t,e){return null==t?t:Oc(t,pn(e),ku)}function yu(t,e){return null==t?t:jc(t,pn(e),ku)}function _u(t,e){return t&&Dn(t,pn(e))}function wu(t,e){return t&&qn(t,pn(e))}function mu(t){return null==t?[]:Wn(t,Eu(t))}function Su(t){return null==t?[]:Wn(t,ku(t))}function Tu(t,e,n){var r=null==t?Z:zn(t,e);return r===Z?n:r}function Iu(t,e){return yi(t,e,Fn)}function bu(t,e){return yi(t,e,Vn)}function Eu(t){var e=ki(t);if(!e&&!Eo(t))return Qn(t);var n=Si(t),r=!!n,i=n||[],s=i.length;for(var o in t)!Fn(t,o)||r&&("length"==o||F(o,s))||e&&"constructor"==o||i.push(o);return i}function ku(t){for(var e=-1,n=ki(t),r=tr(t),i=r.length,s=Si(t),o=!!s,u=s||[],a=u.length;++e<i;){var c=r[e];o&&("length"==c||F(c,a))||"constructor"==c&&(n||!Va.call(t,c))||u.push(c)}return u}function Au(t,e){var n={};return e=li(e,3),Dn(t,function(t,r,i){n[e(t,r,i)]=t}),n}function Ru(t,e){var n={};return e=li(e,3),Dn(t,function(t,r,i){n[r]=e(t,r,i)}),n}function Mu(t,e){return e=li(e),ar(t,function(t,n){return!e(t,n)})}function Bu(t,e){return null==t?{}:ar(t,li(e))}function xu(t,e,n){if(Ii(e,t))r=null==t?Z:t[e];else{e=dn(e);var r=Tu(t,e);t=Bi(t,e)}return r===Z&&(r=n),No(r)?r.call(t):r}function Lu(t,e,n){return null==t?t:vr(t,e,n)}function Ou(t,e,n,r){return r="function"==typeof r?r:Z,null==t?t:vr(t,e,n,r)}function ju(t){return M(t,Eu(t))}function Nu(t){return M(t,ku(t))}function Pu(t,e,n){var r=Tf(t)||tu(t);if(e=li(e,4),null==n)if(r||Co(t)){var i=t.constructor;n=r?Tf(t)?new i:[]:No(i)?kn(nc(t)):{}}else n={};return(r?f:Dn)(t,function(t,r,i){return e(n,t,r,i)}),n}function Uu(t,e){return null==t?!0:br(t,e)}function Cu(t){return t?x(t,Eu(t)):[]}function Du(t){return null==t?[]:x(t,ku(t))}function qu(t,e,n){return n===Z&&(n=e,e=Z),n!==Z&&(n=cu(n),n=n===n?n:0),e!==Z&&(e=cu(e),e=e===e?e:0),In(cu(t),e,n)}function Wu(t,e,n){return e=cu(e)||0,n===Z?(n=e,e=0):n=cu(n)||0,t=cu(t),Gn(t,e,n)}function zu(t,e,n){if(n&&"boolean"!=typeof n&&Ti(t,e,n)&&(e=n=Z),n===Z&&("boolean"==typeof e?(n=e,e=Z):"boolean"==typeof t&&(n=t,t=Z)),t===Z&&e===Z?(t=0,e=1):(t=cu(t)||0,e===Z?(e=t,t=0):e=cu(e)||0),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=yc();return gc(t+i*(e-t+Rn("1e-"+((i+"").length-1))),e)}return dr(t,e)}function Fu(t){return zf(pu(t).toLowerCase())}function Vu(t){return t=pu(t),t&&t.replace(Me,C).replace(hn,"")}function Gu(t,e,n){t=pu(t),e="string"==typeof e?e:e+"";var r=t.length;return n=n===Z?r:In(uu(n),0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function $u(t){return t=pu(t),t&&ae.test(t)?t.replace(oe,D):t}function Yu(t){return t=pu(t),t&&ve.test(t)?t.replace(ge,"\\$&"):t}function Ju(t,e,n){t=pu(t),e=uu(e);var r=J(t);if(!e||r>=e)return t;var i=(e-r)/2,s=fc(i),o=cc(i);return ei("",s,n)+t+ei("",o,n)}function Ku(t,e,n){return t=pu(t),t+ei(t,e,n)}function Hu(t,e,n){return t=pu(t),ei(t,e,n)+t}function Xu(t,e,n){return n||null==e?e=0:e&&(e=+e),t=pu(t).replace(ye,""),vc(t,e||(Ie.test(t)?16:10))}function Zu(t,e){t=pu(t),e=uu(e);var n="";if(!t||1>e||e>It)return n;do e%2&&(n+=t),e=fc(e/2),t+=t;while(e);return n}function Qu(){var t=arguments,e=pu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function ta(t,e,n){return pu(t).split(e,n)}function ea(t,e,n){return t=pu(t),n=In(uu(n),0,t.length),t.lastIndexOf(e,n)==n}function na(t,n,r){var i=e.templateSettings;r&&Ti(t,n,r)&&(n=Z),t=pu(t),n=kf({},n,i,sn);var s,o,u=kf({},n.imports,i.imports,sn),a=Eu(u),c=x(u,a),f=0,l=n.interpolate||Be,p="__p += '",h=Da((n.escape||Be).source+"|"+l.source+"|"+(l===le?Se:Be).source+"|"+(n.evaluate||Be).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++mn+"]")+"\n";t.replace(h,function(e,n,r,i,u,a){return r||(r=i),p+=t.slice(f,a).replace(xe,q),n&&(s=!0,p+="' +\n__e("+n+") +\n'"),u&&(o=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=a+e.length,e}),p+="';\n";var g=n.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(ne,""):p).replace(re,"$1").replace(ie,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=$f(function(){return Function(a,d+"return "+p).apply(Z,c)});if(v.source=p,Oo(v))throw v;return v}function ra(t){return pu(t).toLowerCase()}function ia(t){return pu(t).toUpperCase()}function sa(t,e,n){if(t=pu(t),!t)return t;if(n||e===Z)return t.replace(ye,"");if(e+="",!e)return t;var r=K(t),i=K(e);return r.slice(L(r,i),O(r,i)+1).join("")}function oa(t,e,n){if(t=pu(t),!t)return t;if(n||e===Z)return t.replace(we,"");if(e+="",!e)return t;var r=K(t);return r.slice(0,O(r,K(e))+1).join("")}function ua(t,e,n){if(t=pu(t),!t)return t;if(n||e===Z)return t.replace(_e,"");if(e+="",!e)return t;var r=K(t);return r.slice(L(r,K(e))).join("")}function aa(t,e){var n=pt,r=ht;if(Co(e)){var i="separator"in e?e.separator:i;n="length"in e?uu(e.length):n,r="omission"in e?pu(e.omission):r}t=pu(t);var s=t.length;if(gn.test(t)){var o=K(t);s=o.length}if(n>=s)return t;var u=n-J(r);if(1>u)return r;var a=o?o.slice(0,u).join(""):t.slice(0,u);if(i===Z)return a+r;if(o&&(u+=a.length-u),Ko(i)){if(t.slice(u).search(i)){var c,f=a;for(i.global||(i=Da(i.source,pu(Te.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var l=c.index;a=a.slice(0,l===Z?u:l)}}else if(t.indexOf(i,u)!=u){var p=a.lastIndexOf(i);p>-1&&(a=a.slice(0,p))}return a+r}function ca(t){return t=pu(t),t&&ue.test(t)?t.replace(se,H):t}function fa(t,e,n){return t=pu(t),e=n?Z:e,e===Z&&(e=_n.test(t)?yn:vn),t.match(e)||[]}function la(t){var e=t?t.length:0,n=li();return t=e?v(t,function(t){if("function"!=typeof t[1])throw new qa(mt);return[n(t[0]),t[1]]}):[],co(function(n){for(var r=-1;++r<e;){var i=t[r];if(u(i[0],this,n))return u(i[1],this,n)}})}function pa(t){return En(bn(t,!0))}function ha(t){return function(){return t}}function da(t){return t}function ga(t){return Zn("function"==typeof t?t:bn(t,!0))}function va(t){return nr(bn(t,!0))}function ya(t,e){return rr(t,bn(e,!0))}function _a(t,e,n){var r=Eu(e),i=Wn(e,r);null!=n||Co(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Wn(e,Eu(e)));var s=Co(n)&&"chain"in n?n.chain:!0,o=No(t);return f(i,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),i=n.__actions__=Cr(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,y([this.value()],arguments))})}),t}function wa(){return Un._===this&&(Un._=Ja),this}function ma(){}function Sa(t){return t=uu(t),function(){return arguments[t]}}function Ta(t){return Ii(t)?cr(t):fr(t)}function Ia(t){return function(e){return null==t?Z:zn(t,e)}}function ba(t,e){if(t=uu(t),1>t||t>It)return[];var n=kt,r=gc(t,kt);e=pn(e),t-=kt;for(var i=R(r,e);++n<t;)e(n);return i}function Ea(t){return Tf(t)?v(t,String):Li(t)}function ka(t){var e=++Ga;return pu(t)+e}function Aa(t,e){var n;return t===Z&&e===Z?0:(t!==Z&&(n=t),e!==Z&&(n=n===Z?e:n+e),n)}function Ra(t){return t&&t.length?S(t,da,So):Z}function Ma(t,e){return t&&t.length?S(t,li(e),So):Z}function Ba(t){return ja(t)/(t?t.length:0)}function xa(t){return t&&t.length?S(t,da,iu):Z}function La(t,e){return t&&t.length?S(t,li(e),iu):Z}function Oa(t,e){var n;return t===Z&&e===Z?0:(t!==Z&&(n=t),e!==Z&&(n=n===Z?e:n-e),n)}function ja(t){return t&&t.length?A(t,da):0}function Na(t,e){return t&&t.length?A(t,li(e)):0}t=t?Cn.defaults({},t,Cn.pick(Un,wn)):Un;var Pa=t.Date,Ua=t.Error,Ca=t.Math,Da=t.RegExp,qa=t.TypeError,Wa=t.Array.prototype,za=t.Object.prototype,Fa=t.Function.prototype.toString,Va=za.hasOwnProperty,Ga=0,$a=Fa.call(Object),Ya=za.toString,Ja=Un._,Ka=Da("^"+Fa.call(Va).replace(ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ha=Ln?t.Buffer:Z,Xa=t.Reflect,Za=t.Symbol,Qa=t.Uint8Array,tc=t.clearTimeout,ec=Xa?Xa.enumerate:Z,nc=Object.getPrototypeOf,rc=Object.getOwnPropertySymbols,ic="symbol"==typeof(ic=Za&&Za.iterator)?ic:Z,sc=Object.create,oc=za.propertyIsEnumerable,uc=t.setTimeout,ac=Wa.splice,cc=Ca.ceil,fc=Ca.floor,lc=t.isFinite,pc=Wa.join,hc=Object.keys,dc=Ca.max,gc=Ca.min,vc=t.parseInt,yc=Ca.random,_c=Wa.reverse,wc=hi(t,"Map"),mc=hi(t,"Set"),Sc=hi(t,"WeakMap"),Tc=hi(Object,"create"),Ic=Sc&&new Sc,bc=wc?Fa.call(wc):"",Ec=mc?Fa.call(mc):"",kc=Sc?Fa.call(Sc):"",Ac=Za?Za.prototype:Z,Rc=Za?Ac.valueOf:Z,Mc=Za?Ac.toString:Z,Bc={};e.templateSettings={escape:ce,evaluate:fe,interpolate:le,variable:"",imports:{_:e}};var xc=Vr(Dn),Lc=Vr(qn,!0),Oc=Gr(),jc=Gr(!0);ec&&!oc.call({valueOf:1},"valueOf")&&(tr=function(t){return V(ec(t))});var Nc=Ic?function(t,e){return Ic.set(t,e),t}:da,Pc=mc&&2===new mc([1,2]).size?function(t){return new mc(t)}:ma,Uc=Ic?function(t){return Ic.get(t)}:ma,Cc=cr("length"),Dc=rc||function(){return[]};(wc&&gi(new wc)!=Ut||mc&&gi(new mc)!=Wt||Sc&&gi(new Sc)!=Vt)&&(gi=function(t){var e=Ya.call(t),n=e==Dt?t.constructor:null,r="function"==typeof n?Fa.call(n):"";if(r)switch(r){case bc:return Ut;case Ec:return Wt;case kc:return Vt}return e});var qc=function(){var t=0,e=0;return function(n,r){var i=hf(),s=gt-(i-e);if(e=i,s>0){if(++t>=dt)return n}else t=0;return Nc(n,r)}}(),Wc=co(function(t,e){return Tf(t)||(t=null==t?[]:[Object(t)]),e=Nn(e,1),c(t,e)}),zc=co(function(t,e){return ko(t)?Bn(t,Nn(e,1,!0)):[]}),Fc=co(function(t,e){var n=Xi(e);return ko(n)&&(n=Z),ko(t)?Bn(t,Nn(e,1,!0),li(n)):[]}),Vc=co(function(t,e){var n=Xi(e);return ko(n)&&(n=Z),ko(t)?Bn(t,Nn(e,1,!0),Z,n):[]}),Gc=co(function(t){var e=v(t,ln);return e.length&&e[0]===t[0]?$n(e):[]}),$c=co(function(t){var e=Xi(t),n=v(t,ln);return e===Xi(n)?e=Z:n.pop(),n.length&&n[0]===t[0]?$n(n,li(e)):[]}),Yc=co(function(t){var e=Xi(t),n=v(t,ln);return e===Xi(n)?e=Z:n.pop(),n.length&&n[0]===t[0]?$n(n,Z,e):[]}),Jc=co(Qi),Kc=co(function(t,e){e=v(Nn(e,1),String);var n=fn(t,e);return hr(t,e.sort(N)),n}),Hc=co(function(t){return Ir(Nn(t,1,!0))}),Xc=co(function(t){var e=Xi(t);return ko(e)&&(e=Z),Ir(Nn(t,1,!0),li(e))}),Zc=co(function(t){var e=Xi(t);return ko(e)&&(e=Z),Ir(Nn(t,1,!0),Z,e)}),Qc=co(function(t,e){return ko(t)?Bn(t,e):[]}),tf=co(function(t){return Ar(h(t,ko))}),ef=co(function(t){var e=Xi(t);return ko(e)&&(e=Z),Ar(h(t,ko),li(e))}),nf=co(function(t){var e=Xi(t);return ko(e)&&(e=Z),Ar(h(t,ko),Z,e)}),rf=co(ms),sf=co(function(t){var e=t.length,n=e>1?t[e-1]:Z;return n="function"==typeof n?(t.pop(),n):Z,Ss(t,n)}),of=co(function(t){t=Nn(t,1);var e=t.length,n=e?t[0]:0,s=this.__wrapped__,o=function(e){return fn(e,t)};return!(e>1||this.__actions__.length)&&s instanceof i&&F(n)?(s=s.slice(n,+n+(e?1:0)),s.__actions__.push({func:ks,args:[o],thisArg:Z}),new r(s,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Z),t})):this.thru(o)}),uf=zr(function(t,e,n){Va.call(t,n)?++t[n]:t[n]=1}),af=zr(function(t,e,n){Va.call(t,n)?t[n].push(e):t[n]=[e]}),cf=co(function(t,e,n){var r=-1,i="function"==typeof e,s=Ii(e),o=Eo(t)?Array(t.length):[];return xc(t,function(t){var a=i?e:s&&null!=t?t[e]:Z;o[++r]=a?u(a,t,n):Jn(t,e,n)}),o}),ff=zr(function(t,e,n){t[n]=e}),lf=zr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),pf=co(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ti(t,e[0],e[1])?e=[]:n>2&&Ti(e[0],e[1],e[2])&&(e.length=1),or(t,Nn(e,1),[])}),hf=Pa.now,df=co(function(t,e,n){var r=tt;if(n.length){var i=$(n,di(df));r|=st}return oi(t,r,e,n,i)}),gf=co(function(t,e,n){var r=tt|et;if(n.length){var i=$(n,di(gf));r|=st}return oi(e,r,t,n,i)}),vf=co(function(t,e){return An(t,1,e)}),yf=co(function(t,e,n){return An(t,cu(e)||0,n)}),_f=co(function(t,e){e=v(Nn(e,1),li());var n=e.length;return co(function(r){for(var i=-1,s=gc(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return u(t,this,r)})}),wf=co(function(t,e){var n=$(e,di(wf));return oi(t,st,Z,e,n)}),mf=co(function(t,e){var n=$(e,di(mf));return oi(t,ot,Z,e,n)}),Sf=co(function(t,e){return oi(t,at,Z,Z,Z,Nn(e,1))}),Tf=Array.isArray,If=Ha?function(t){return t instanceof Ha}:ha(!1),bf=Fr(function(t,e){Dr(e,Eu(e),t)}),Ef=Fr(function(t,e){Dr(e,ku(e),t)}),kf=Fr(function(t,e,n,r){qr(e,ku(e),t,r)}),Af=Fr(function(t,e,n,r){qr(e,Eu(e),t,r)}),Rf=co(function(t,e){return fn(t,Nn(e,1))}),Mf=co(function(t){return t.push(Z,sn),u(kf,Z,t)}),Bf=co(function(t){return t.push(Z,Mi),u(Nf,Z,t)}),xf=Qr(function(t,e,n){t[e]=n},ha(da)),Lf=Qr(function(t,e,n){Va.call(t,e)?t[e].push(n):t[e]=[n]},li),Of=co(Jn),jf=Fr(function(t,e,n){ir(t,e,n)}),Nf=Fr(function(t,e,n,r){ir(t,e,n,r)}),Pf=co(function(t,e){return null==t?{}:(e=v(Nn(e,1),String),ur(t,Bn(ku(t),e)))}),Uf=co(function(t,e){return null==t?{}:ur(t,Nn(e,1))}),Cf=Jr(function(t,e,n){return e=e.toLowerCase(),t+(n?Fu(e):e)}),Df=Jr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qf=Jr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Wf=Yr("toLowerCase"),zf=Yr("toUpperCase"),Ff=Jr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Vf=Jr(function(t,e,n){return t+(n?" ":"")+Fu(e)}),Gf=Jr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),$f=co(function(t,e){try{return u(t,Z,e)}catch(n){return Oo(n)?n:new Ua(n)}}),Yf=co(function(t,e){return f(Nn(e,1),function(e){t[e]=df(t[e],t)}),t}),Jf=Xr(),Kf=Xr(!0),Hf=co(function(t,e){return function(n){return Jn(n,t,e)}}),Xf=co(function(t,e){return function(n){return Jn(t,n,e)}}),Zf=ti(v),Qf=ti(p),tl=ti(m),el=ri(),nl=ri(!0),rl=si("ceil"),il=si("floor"),sl=si("round");return e.prototype=n.prototype,r.prototype=kn(n.prototype),r.prototype.constructor=r,i.prototype=kn(n.prototype),i.prototype.constructor=i,Oe.prototype=Tc?Tc(null):za,Ce.prototype.clear=De,Ce.prototype["delete"]=qe,Ce.prototype.get=We,Ce.prototype.has=ze,Ce.prototype.set=Fe,Ve.prototype.push=$e,Ye.prototype.clear=Je,Ye.prototype["delete"]=Ke,Ye.prototype.get=He,Ye.prototype.has=Xe,Ye.prototype.set=Ze,oo.Cache=Ce,e.after=Qs,e.ary=to,e.assign=bf,e.assignIn=Ef,e.assignInWith=kf,e.assignWith=Af,e.at=Rf,e.before=eo,e.bind=df,e.bindAll=Yf,e.bindKey=gf,e.castArray=go,e.chain=bs,e.chunk=ji,e.compact=Ni,e.concat=Wc,e.cond=la,e.conforms=pa,e.constant=ha,e.countBy=uf,e.create=hu,e.curry=no,e.curryRight=ro,e.debounce=io,e.defaults=Mf,e.defaultsDeep=Bf,e.defer=vf,e.delay=yf,e.difference=zc,e.differenceBy=Fc,e.differenceWith=Vc,e.drop=Pi,e.dropRight=Ui,e.dropRightWhile=Ci,e.dropWhile=Di,e.fill=qi,e.filter=Ps,e.flatMap=Ds,e.flatten=Fi,e.flattenDeep=Vi,e.flattenDepth=Gi,e.flip=so,e.flow=Jf,e.flowRight=Kf,e.fromPairs=$i,e.functions=mu,e.functionsIn=Su,e.groupBy=af,e.initial=Ki,e.intersection=Gc,e.intersectionBy=$c,e.intersectionWith=Yc,e.invert=xf,e.invertBy=Lf,e.invokeMap=cf,e.iteratee=ga,e.keyBy=ff,e.keys=Eu,e.keysIn=ku,e.map=Fs,e.mapKeys=Au,e.mapValues=Ru,e.matches=va,e.matchesProperty=ya,e.memoize=oo,e.merge=jf,e.mergeWith=Nf,e.method=Hf,e.methodOf=Xf,e.mixin=_a,e.negate=uo,e.nthArg=Sa,e.omit=Pf,e.omitBy=Mu,e.once=ao,e.orderBy=Vs,e.over=Zf,e.overArgs=_f,e.overEvery=Qf,e.overSome=tl,e.partial=wf,e.partialRight=mf,e.partition=lf,e.pick=Uf,e.pickBy=Bu,e.property=Ta,e.propertyOf=Ia,e.pull=Jc,e.pullAll=Qi,e.pullAllBy=ts,e.pullAt=Kc,e.range=el,e.rangeRight=nl,e.rearg=Sf,e.reject=Ys,e.remove=es,e.rest=co,e.reverse=ns,e.sampleSize=Ks,e.set=Lu,e.setWith=Ou,e.shuffle=Hs,e.slice=rs,e.sortBy=pf,e.sortedUniq=fs,e.sortedUniqBy=ls,e.split=ta,e.spread=fo,e.tail=ps,e.take=hs,e.takeRight=ds,e.takeRightWhile=gs,e.takeWhile=vs,e.tap=Es,e.throttle=lo,e.thru=ks,e.toArray=ou,e.toPairs=ju,e.toPairsIn=Nu,e.toPath=Ea,e.toPlainObject=fu,e.transform=Pu,e.unary=po,e.union=Hc,e.unionBy=Xc,e.unionWith=Zc,e.uniq=ys,e.uniqBy=_s,e.uniqWith=ws,e.unset=Uu,e.unzip=ms,e.unzipWith=Ss,e.values=Cu,e.valuesIn=Du,e.without=Qc,e.words=fa,e.wrap=ho,e.xor=tf,e.xorBy=ef,e.xorWith=nf,e.zip=rf,e.zipObject=Ts,e.zipObjectDeep=Is,e.zipWith=sf,
e.extend=Ef,e.extendWith=kf,_a(e,e),e.add=Aa,e.attempt=$f,e.camelCase=Cf,e.capitalize=Fu,e.ceil=rl,e.clamp=qu,e.clone=vo,e.cloneDeep=_o,e.cloneDeepWith=wo,e.cloneWith=yo,e.deburr=Vu,e.endsWith=Gu,e.eq=mo,e.escape=$u,e.escapeRegExp=Yu,e.every=Ns,e.find=Us,e.findIndex=Wi,e.findKey=du,e.findLast=Cs,e.findLastIndex=zi,e.findLastKey=gu,e.floor=il,e.forEach=qs,e.forEachRight=Ws,e.forIn=vu,e.forInRight=yu,e.forOwn=_u,e.forOwnRight=wu,e.get=Tu,e.gt=So,e.gte=To,e.has=Iu,e.hasIn=bu,e.head=Yi,e.identity=da,e.includes=zs,e.indexOf=Ji,e.inRange=Wu,e.invoke=Of,e.isArguments=Io,e.isArray=Tf,e.isArrayBuffer=bo,e.isArrayLike=Eo,e.isArrayLikeObject=ko,e.isBoolean=Ao,e.isBuffer=If,e.isDate=Ro,e.isElement=Mo,e.isEmpty=Bo,e.isEqual=xo,e.isEqualWith=Lo,e.isError=Oo,e.isFinite=jo,e.isFunction=No,e.isInteger=Po,e.isLength=Uo,e.isMap=qo,e.isMatch=Wo,e.isMatchWith=zo,e.isNaN=Fo,e.isNative=Vo,e.isNil=$o,e.isNull=Go,e.isNumber=Yo,e.isObject=Co,e.isObjectLike=Do,e.isPlainObject=Jo,e.isRegExp=Ko,e.isSafeInteger=Ho,e.isSet=Xo,e.isString=Zo,e.isSymbol=Qo,e.isTypedArray=tu,e.isUndefined=eu,e.isWeakMap=nu,e.isWeakSet=ru,e.join=Hi,e.kebabCase=Df,e.last=Xi,e.lastIndexOf=Zi,e.lowerCase=qf,e.lowerFirst=Wf,e.lt=iu,e.lte=su,e.max=Ra,e.maxBy=Ma,e.mean=Ba,e.min=xa,e.minBy=La,e.noConflict=wa,e.noop=ma,e.now=hf,e.pad=Ju,e.padEnd=Ku,e.padStart=Hu,e.parseInt=Xu,e.random=zu,e.reduce=Gs,e.reduceRight=$s,e.repeat=Zu,e.replace=Qu,e.result=xu,e.round=sl,e.runInContext=X,e.sample=Js,e.size=Xs,e.snakeCase=Ff,e.some=Zs,e.sortedIndex=is,e.sortedIndexBy=ss,e.sortedIndexOf=os,e.sortedLastIndex=us,e.sortedLastIndexBy=as,e.sortedLastIndexOf=cs,e.startCase=Vf,e.startsWith=ea,e.subtract=Oa,e.sum=ja,e.sumBy=Na,e.template=na,e.times=ba,e.toInteger=uu,e.toLength=au,e.toLower=ra,e.toNumber=cu,e.toSafeInteger=lu,e.toString=pu,e.toUpper=ia,e.trim=sa,e.trimEnd=oa,e.trimStart=ua,e.truncate=aa,e.unescape=ca,e.uniqueId=ka,e.upperCase=Gf,e.upperFirst=zf,e.each=qs,e.eachRight=Ws,e.first=Yi,_a(e,function(){var t={};return Dn(e,function(n,r){Va.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=Q,f(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),f(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=n===Z?1:dc(uu(n),0);var s=this.clone();return r?s.__takeCount__=gc(n,s.__takeCount__):s.__views__.push({size:gc(n,kt),type:t+(s.__dir__<0?"Right":"")}),s},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),f(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==yt||n==wt;i.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:li(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),f(["head","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),f(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),i.prototype.compact=function(){return this.filter(da)},i.prototype.find=function(t){return this.filter(t).head()},i.prototype.findLast=function(t){return this.reverse().find(t)},i.prototype.invokeMap=co(function(t,e){return"function"==typeof t?new i(this):this.map(function(n){return Jn(n,t,e)})}),i.prototype.reject=function(t){return t=li(t,3),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=uu(t);var n=this;return n.__filtered__&&(t>0||0>e)?new i(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Z&&(e=uu(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},i.prototype.toArray=function(){return this.take(kt)},Dn(i.prototype,function(t,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),u=e[o?"take"+("last"==n?"Right":""):n],a=o||/^find/.test(n);u&&(e.prototype[n]=function(){var n=this.__wrapped__,c=o?[1]:arguments,f=n instanceof i,l=c[0],p=f||Tf(n),h=function(t){var n=u.apply(e,y([t],c));return o&&d?n[0]:n};p&&s&&"function"==typeof l&&1!=l.length&&(f=p=!1);var d=this.__chain__,g=!!this.__actions__.length,v=a&&!d,_=f&&!g;if(!a&&p){n=_?n:new i(this);var w=t.apply(n,c);return w.__actions__.push({func:ks,args:[h],thisArg:Z}),new r(w,d)}return v&&_?t.apply(this,c):(w=this.thru(h),v?o?w.value()[0]:w.value():w)})}),f(["pop","push","shift","sort","splice","unshift"],function(t){var n=Wa[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Dn(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",s=Bc[i]||(Bc[i]=[]);s.push({name:n,func:r})}}),Bc[Zr(Z,et).name]=[{name:"wrapper",func:Z}],i.prototype.clone=j,i.prototype.reverse=Re,i.prototype.value=Le,e.prototype.at=of,e.prototype.chain=As,e.prototype.commit=Rs,e.prototype.flatMap=Ms,e.prototype.next=Bs,e.prototype.plant=Ls,e.prototype.reverse=Os,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=js,ic&&(e.prototype[ic]=xs),e}var Z,Q="4.5.1",tt=1,et=2,nt=4,rt=8,it=16,st=32,ot=64,ut=128,at=256,ct=512,ft=1,lt=2,pt=30,ht="...",dt=150,gt=16,vt=200,yt=1,_t=2,wt=3,mt="Expected a function",St="__lodash_hash_undefined__",Tt=1/0,It=9007199254740991,bt=1.7976931348623157e308,Et=NaN,kt=4294967295,At=kt-1,Rt=kt>>>1,Mt="__lodash_placeholder__",Bt="[object Arguments]",xt="[object Array]",Lt="[object Boolean]",Ot="[object Date]",jt="[object Error]",Nt="[object Function]",Pt="[object GeneratorFunction]",Ut="[object Map]",Ct="[object Number]",Dt="[object Object]",qt="[object RegExp]",Wt="[object Set]",zt="[object String]",Ft="[object Symbol]",Vt="[object WeakMap]",Gt="[object WeakSet]",$t="[object ArrayBuffer]",Yt="[object Float32Array]",Jt="[object Float64Array]",Kt="[object Int8Array]",Ht="[object Int16Array]",Xt="[object Int32Array]",Zt="[object Uint8Array]",Qt="[object Uint8ClampedArray]",te="[object Uint16Array]",ee="[object Uint32Array]",ne=/\b__p \+= '';/g,re=/\b(__p \+=) '' \+/g,ie=/(__e\(.*?\)|\b__t\)) \+\n'';/g,se=/&(?:amp|lt|gt|quot|#39|#96);/g,oe=/[&<>"'`]/g,ue=RegExp(se.source),ae=RegExp(oe.source),ce=/<%-([\s\S]+?)%>/g,fe=/<%([\s\S]+?)%>/g,le=/<%=([\s\S]+?)%>/g,pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,he=/^\w*$/,de=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ge=/[\\^$.*+?()[\]{}|]/g,ve=RegExp(ge.source),ye=/^\s+|\s+$/g,_e=/^\s+/,we=/\s+$/,me=/\\(\\)?/g,Se=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Te=/\w*$/,Ie=/^0x/i,be=/^[-+]0x[0-9a-f]+$/i,Ee=/^0b[01]+$/i,ke=/^\[object .+?Constructor\]$/,Ae=/^0o[0-7]+$/i,Re=/^(?:0|[1-9]\d*)$/,Me=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Be=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Le="\\ud800-\\udfff",Oe="\\u0300-\\u036f\\ufe20-\\ufe23",je="\\u20d0-\\u20f0",Ne="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Ue="\\xac\\xb1\\xd7\\xf7",Ce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",De="\\u2018\\u2019\\u201c\\u201d",qe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",We="A-Z\\xc0-\\xd6\\xd8-\\xde",ze="\\ufe0e\\ufe0f",Fe=Ue+Ce+De+qe,Ve="["+Le+"]",Ge="["+Fe+"]",$e="["+Oe+je+"]",Ye="\\d+",Je="["+Ne+"]",Ke="["+Pe+"]",He="[^"+Le+Fe+Ye+Ne+Pe+We+"]",Xe="\\ud83c[\\udffb-\\udfff]",Ze="(?:"+$e+"|"+Xe+")",Qe="[^"+Le+"]",tn="(?:\\ud83c[\\udde6-\\uddff]){2}",en="[\\ud800-\\udbff][\\udc00-\\udfff]",nn="["+We+"]",rn="\\u200d",sn="(?:"+Ke+"|"+He+")",on="(?:"+nn+"|"+He+")",un=Ze+"?",an="["+ze+"]?",cn="(?:"+rn+"(?:"+[Qe,tn,en].join("|")+")"+an+un+")*",fn=an+un+cn,ln="(?:"+[Je,tn,en].join("|")+")"+fn,pn="(?:"+[Qe+$e+"?",$e,tn,en,Ve].join("|")+")",hn=RegExp($e,"g"),dn=RegExp(Xe+"(?="+Xe+")|"+pn+fn,"g"),gn=RegExp("["+rn+Le+Oe+je+ze+"]"),vn=/[a-zA-Z0-9]+/g,yn=RegExp([nn+"?"+Ke+"+(?="+[Ge,nn,"$"].join("|")+")",on+"+(?="+[Ge,nn+sn,"$"].join("|")+")",nn+"?"+sn+"+",nn+"+",Ye,ln].join("|"),"g"),_n=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wn=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mn=-1,Sn={};Sn[Yt]=Sn[Jt]=Sn[Kt]=Sn[Ht]=Sn[Xt]=Sn[Zt]=Sn[Qt]=Sn[te]=Sn[ee]=!0,Sn[Bt]=Sn[xt]=Sn[$t]=Sn[Lt]=Sn[Ot]=Sn[jt]=Sn[Nt]=Sn[Ut]=Sn[Ct]=Sn[Dt]=Sn[qt]=Sn[Wt]=Sn[zt]=Sn[Vt]=!1;var Tn={};Tn[Bt]=Tn[xt]=Tn[$t]=Tn[Lt]=Tn[Ot]=Tn[Yt]=Tn[Jt]=Tn[Kt]=Tn[Ht]=Tn[Xt]=Tn[Ut]=Tn[Ct]=Tn[Dt]=Tn[qt]=Tn[Wt]=Tn[zt]=Tn[Ft]=Tn[Zt]=Tn[Qt]=Tn[te]=Tn[ee]=!0,Tn[jt]=Tn[Nt]=Tn[Vt]=!1;var In={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},En={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},kn={"function":!0,object:!0},An={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rn=parseFloat,Mn=parseInt,Bn=kn[typeof e]&&e&&!e.nodeType?e:Z,xn=kn[typeof t]&&t&&!t.nodeType?t:Z,Ln=xn&&xn.exports===Bn?Bn:Z,On=j(Bn&&xn&&"object"==typeof i&&i),jn=j(kn[typeof self]&&self),Nn=j(kn[typeof window]&&window),Pn=j(kn[typeof this]&&this),Un=On||Nn!==(Pn&&Pn.window)&&Nn||jn||Pn||Function("return this")(),Cn=X();(Nn||jn||{})._=Cn,r=function(){return Cn}.call(e,n,e,t),!(r!==Z&&(t.exports=r))}).call(this)}).call(e,n(8)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var r=n(2),i=n(4),s=n(10),o=n(5),u=function(){this._model=new s,this._pendingUpdateId=null,this._client=null};u.prototype={initialize:function(t,e,n){var r=null!==n?"has saved state":"no saved state";this._clientLog("Initializing Engine "+JSON.stringify([t,e,r])),this._model.loadState(n)?console.log("Successfully loaded saved state"):(console.log("Did not load saved state"),this._model.initialize(t,e),this._clientGetMessages()),o.setInterval(this._clientGetMessages.bind(this),i.REFRESH_INTERVAL_MILLIS)},processServerResponse:function(t){this._clientLog("processServerResponse "+JSON.stringify(t.messages)),this._model.updatePotentialMessages(t.messages||[]),null!==this._pendingUpdateId&&(this._model.setUpdateId(this._pendingUpdateId),this._pendingUpdateId=null),this._clientPersistState()},placementIsVisible:function(t){this._clientLog("placementIsVisible "+JSON.stringify(t));var e=o.now(),n=this._model.preparedMessageShown(t);return this._clientPersistState(),n?void this._clientSendEvent(n.key,n.events.show,e):void this._clientLog("We did not expect to see a message at placement "+JSON.stringify(t))},syncComplete:function(t){this._clientLog("syncComplete "+t);var e=this._model.getUpdateId();t>e&&null===this._pendingUpdateId?(this._pendingUpdateId=t,console.log("we need to getMessages because the sync state changed from "+e+" -> "+t),this._clientGetMessages()):console.log("we don't need to getMessages based on the sync state changing from "+e+" -> "+t+" pendingUpdateId:"+this._pendingUpdateId)},placementWasDismissed:function(t){this._clientLog("placementWasDismissed "+JSON.stringify(t)),this._placementIsDismissed(t,!1)},_placementIsDismissed:function(t,e){this._clientLog("_placementIsDismissed "+JSON.stringify(t));var n=o.now(),r=this._model.preparedMessageDismissed(t);if(this._clientPersistState(),!r)return void this._clientLog("We did not expect to dismiss a message at placement "+JSON.stringify(t));var i=this._makeEvent(r.key,r.events.dismiss,n);e&&this._clientDismissMessage(t),this._clientGetMessages([i])},trigger:function(t){console.log("trigger",t.kind,t.criteria);var e=this._model.prepareMessageForTrigger(t);this._clientPersistState(),e?this._clientShow(e):console.log("No appropriate message found")},requestPlacement:function(t){console.log("requestPlacement",t);var e=this._model.prepareMessageForPlacement(t);this._clientPersistState(),e?this._clientShow(e):console.log("No appropriate message found")},userAction:function(t,e){this._clientLog("userAction "+JSON.stringify([t,e]));var n=window.atob(e),r=JSON.parse(n);if(r.e){var i=this._model.getMessageAtPlacement(t);if(!i)return void this._clientLog("We did not expect a user action for a message at placement "+JSON.stringify(t));this._clientSendEvent(i.key,r.e,o.now())}r.d&&this._placementIsDismissed(t,!0)},_clientDismissMessage:function(t){this._client?(this._clientLog("Dismiss message at "+t),this._client.dismissMessage(t)):console.error("not initialized: call setClient. Dropping",t)},_clientPersistState:function(){var t=this._model.dumpState();this._client?(this._clientLog("Save state "+t),this._client.saveState(t)):console.error("not initialized: call setClient. Dropping",t)},_clientLog:function(t){this._client?this._client.log(t):console.error("not initialized: call setClient. Dropping",t)},_clientShow:function(t){var e=t.placement,n=t.content.html;this._client?(this._clientLog("Show Message "+JSON.stringify(t)),this._client.show(e,n)):console.error("not initialized: call setClient. Dropping",e,n)},_makeEvent:function(t,e,n){return new r.Event({name:e,time:n,messageKey:t})},_clientSendEvent:function(t,e,n){var r=this._makeEvent(t,e,n);this._client?(this._clientLog("Sending Event "+e+" for message "+t),this._client.sendEvents([r])):console.error("not initialized: call setClient. Dropping",r)},_clientGetMessages:function(t){t=t||[];var e=new r.MessageRequest({knownMessages:this._model.getPotentialMessageIdentifiers(),supportedTriggers:this._model.getSupportedTriggerTypes(),supportedPlacements:this._model.getSupportedPlacements(),events:t});this._client?(this._clientLog("getMessages"),this._client.getMessages(e)):console.error("not initialized: call setClient. Dropping",e)},handler:function(){return this._handler||(this._handler={processServerResponse:this.processServerResponse.bind(this),placementIsVisible:this.placementIsVisible.bind(this),placementWasDismissed:this.placementWasDismissed.bind(this),initialize:this.initialize.bind(this),trigger:this.trigger.bind(this),requestPlacement:this.requestPlacement.bind(this),syncComplete:this.syncComplete.bind(this),userAction:this.userAction.bind(this)}),this._handler},setClient:function(t){this._client=t}},t.exports=u},function(t,e,n){"use strict";var r=n(7),i=n(4),s=n(2),o=n(5),u=n(1).BinaryParser,a=function(){this._supportedTriggerTypes=[],this._supportedPlacements=[],this._potentialMessages=[],this._communicationEngineUpdateId=0,this._preparedPlacements={}};a.prototype={initialize:function(t,e){this._supportedPlacements=t,this._supportedTriggerTypes=e},dumpState:function(){var t=o.now()+i.MAX_STATE_AGE_MILLIS,e={expireTime:t,supportedTriggerTypes:this._supportedTriggerTypes,supportedPlacements:this._supportedPlacements,potentialMessages:this._potentialMessages,preparedPlacements:this._preparedPlacements,communicationEngineUpdateId:this._communicationEngineUpdateId};return JSON.stringify(e)},_decodeState:function(t){if(!t)return null;"string"!=typeof t&&(t=u.toString(new DataView(t.buffer)));try{var e=JSON.parse(t);if(e.expireTime>o.now())return e}catch(n){console.error("Could not parse savedState: "+t)}return null},loadState:function(t){var e=this._decodeState(t);return e?(this._supportedTriggerTypes=e.supportedTriggerTypes,this._supportedPlacements=e.supportedPlacements,this._potentialMessages=e.potentialMessages,this._preparedPlacements=e.preparedPlacements,this._communicationEngineUpdateId=e.communicationEngineUpdateId,!0):!1},updatePotentialMessages:function(t){var e=this,n=t.reduce(function(t,n){if(n.content)return t.push(n),t;var i=r.find(e._potentialMessages,{key:n.key});return i?(n.content=i.content,t.push(n)):console.error("Missing content for message key",n.key),t},[]);this._potentialMessages=n},getSupportedTriggerTypes:function(){return this._supportedTriggerTypes},getSupportedPlacements:function(){return this._supportedPlacements},getUpdateId:function(){return this._communicationEngineUpdateId||0},setUpdateId:function(t){t>this._communicationEngineUpdateId&&(this._communicationEngineUpdateId=t)},getPotentialMessageIdentifiers:function(){return this._potentialMessages.map(function(t){return new s.InAppMessageIdentifier({key:t.key,version:t.content.version})})},prepareMessageForTrigger:function(t){var e=r.find(this._potentialMessages,function(e){return e.trigger&&t.kind===e.trigger.kind&&r.isEqual(t.criteria,e.trigger.criteria)});return e?(this._preparedPlacements[e.placement]=e,e):void 0},prepareMessageForPlacement:function(t){var e=r.find(this._potentialMessages,function(e){return!e.trigger&&e.placement===t});return e?(this._preparedPlacements[e.placement]=e,e):void 0},preparedMessageShown:function(t){var e=this.getMessageAtPlacement(t);return e?(r.remove(this._potentialMessages,{key:e.key}),e):null},getMessageAtPlacement:function(t){return this._preparedPlacements[t]},preparedMessageDismissed:function(t){var e=this._preparedPlacements[t];return e?(delete this._preparedPlacements[t],e):null}},t.exports=a},function(t,e,n){"use strict";var r=n(12),i=n(13).ThriftBridgeBuilder,s=i.build("commsEngine",r.MainApp,r.SharedAPI);t.exports=s},function(t,e,n){var r;r=function(t){function e(t){this.output=t,this.seqid=0}function r(t,e,n){var r;this.service=t,this.stransport=e,this.processor=new o.Processor;for(r in c)t[r]&&this.processor.addMethod(c[r],t[r].bind(t));this.stransport.process=function(t,e,r){var i=new n(t),s=new n(e);this.processor.process(i,s,r)}.bind(this)}function i(t){this.output=t,this.seqid=0}function s(t,e,n){var r;this.service=t,this.stransport=e,this.processor=new o.Processor;for(r in f)t[r]&&this.processor.addMethod(f[r],t[r].bind(t));this.stransport.process=function(t,e,r){var i=new n(t),s=new n(e);this.processor.process(i,s,r)}.bind(this)}var o=n(1).thrift,u=u||{},a=n(2),c=u.SharedAPI={};c.processServerResponse=o.Method.define({oneway:!0,alias:"processServerResponse",args:o.Struct.define("processServerResponseArgs",{1:{alias:"response",type:o.Type.STRUCT,def:a.MessageResponse,index:0}}),result:o.Struct.define("processServerResponseResult")}),c.initialize=o.Method.define({oneway:!0,alias:"initialize",args:o.Struct.define("initializeArgs",{1:{alias:"supportedPlacements",type:o.Type.LIST,def:o.List.define(o.Type.I32),index:0},2:{alias:"supportedTriggers",type:o.Type.LIST,def:o.List.define(o.Type.I32),index:1},3:{alias:"savedState",type:o.Type.BINARY,index:2}}),result:o.Struct.define("initializeResult")}),c.trigger=o.Method.define({oneway:!0,alias:"trigger",args:o.Struct.define("triggerArgs",{1:{alias:"trigger",type:o.Type.STRUCT,def:a.Trigger,index:0}}),result:o.Struct.define("triggerResult")}),c.requestPlacement=o.Method.define({oneway:!0,alias:"requestPlacement",args:o.Struct.define("requestPlacementArgs",{1:{alias:"placement",type:o.Type.I32,index:0}}),result:o.Struct.define("requestPlacementResult")}),c.placementIsVisible=o.Method.define({oneway:!0,alias:"placementIsVisible",args:o.Struct.define("placementIsVisibleArgs",{1:{alias:"placement",type:o.Type.I32,index:0}}),result:o.Struct.define("placementIsVisibleResult")}),c.userAction=o.Method.define({oneway:!0,alias:"userAction",args:o.Struct.define("userActionArgs",{1:{alias:"placement",type:o.Type.I32,index:0},2:{alias:"blob",type:o.Type.STRING,index:1}}),result:o.Struct.define("userActionResult")}),c.syncComplete=o.Method.define({oneway:!0,alias:"syncComplete",args:o.Struct.define("syncCompleteArgs",{1:{alias:"communicationEngineUpdateId",type:o.Type.I32,index:0}}),result:o.Struct.define("syncCompleteResult")}),c.placementWasDismissed=o.Method.define({oneway:!0,alias:"placementWasDismissed",args:o.Struct.define("placementWasDismissedArgs",{1:{alias:"placement",type:o.Type.I32,index:0}}),result:o.Struct.define("placementWasDismissedResult")}),c.placementWillNotBeVisible=o.Method.define({oneway:!0,alias:"placementWillNotBeVisible",args:o.Struct.define("placementWillNotBeVisibleArgs",{1:{alias:"placement",type:o.Type.I32,index:0}}),result:o.Struct.define("placementWillNotBeVisibleResult")}),e.prototype.processServerResponse=function(t,e){var n=c.processServerResponse,r=new n.args;r.response=t,n.sendRequest(this.output,this.seqid++,r,e)},e.prototype.initialize=function(t,e,n,r){var i=c.initialize,s=new i.args;s.supportedPlacements=t,s.supportedTriggers=e,s.savedState=n,i.sendRequest(this.output,this.seqid++,s,r)},e.prototype.trigger=function(t,e){var n=c.trigger,r=new n.args;r.trigger=t,n.sendRequest(this.output,this.seqid++,r,e)},e.prototype.requestPlacement=function(t,e){var n=c.requestPlacement,r=new n.args;r.placement=t,n.sendRequest(this.output,this.seqid++,r,e)},e.prototype.placementIsVisible=function(t,e){var n=c.placementIsVisible,r=new n.args;r.placement=t,n.sendRequest(this.output,this.seqid++,r,e)},e.prototype.userAction=function(t,e,n){var r=c.userAction,i=new r.args;i.placement=t,i.blob=e,r.sendRequest(this.output,this.seqid++,i,n)},e.prototype.syncComplete=function(t,e){var n=c.syncComplete,r=new n.args;r.communicationEngineUpdateId=t,n.sendRequest(this.output,this.seqid++,r,e)},e.prototype.placementWasDismissed=function(t,e){var n=c.placementWasDismissed,r=new n.args;r.placement=t,n.sendRequest(this.output,this.seqid++,r,e)},e.prototype.placementWillNotBeVisible=function(t,e){var n=c.placementWillNotBeVisible,r=new n.args;r.placement=t,n.sendRequest(this.output,this.seqid++,r,e)},u.SharedAPI.Client=e,r.prototype.start=function(){this.stransport.listen()},r.prototype.stop=function(){this.stransport.close()},u.SharedAPI.Server=r;var f=u.MainApp={};return f.getMessages=o.Method.define({oneway:!0,alias:"getMessages",args:o.Struct.define("getMessagesArgs",{1:{alias:"request",type:o.Type.STRUCT,def:a.MessageRequest,index:0}}),result:o.Struct.define("getMessagesResult")}),f.show=o.Method.define({oneway:!0,alias:"show",args:o.Struct.define("showArgs",{1:{alias:"placement",type:o.Type.I32,index:0},2:{alias:"content",type:o.Type.STRING,index:1},3:{alias:"priority",type:o.Type.I32,index:2}}),result:o.Struct.define("showResult")}),f.sendEvents=o.Method.define({oneway:!0,alias:"sendEvents",args:o.Struct.define("sendEventsArgs",{1:{alias:"events",type:o.Type.LIST,def:o.List.define(o.Type.STRUCT,a.Event),index:0}}),result:o.Struct.define("sendEventsResult")}),f.log=o.Method.define({oneway:!0,alias:"log",args:o.Struct.define("logArgs",{1:{alias:"message",type:o.Type.STRING,index:0}}),result:o.Struct.define("logResult")}),f.dismissMessage=o.Method.define({oneway:!0,alias:"dismissMessage",args:o.Struct.define("dismissMessageArgs",{1:{alias:"placement",type:o.Type.I32,index:0}}),result:o.Struct.define("dismissMessageResult")}),f.saveState=o.Method.define({oneway:!0,alias:"saveState",args:o.Struct.define("saveStateArgs",{1:{alias:"state",type:o.Type.BINARY,index:0}}),result:o.Struct.define("saveStateResult")}),i.prototype.getMessages=function(t,e){var n=f.getMessages,r=new n.args;r.request=t,n.sendRequest(this.output,this.seqid++,r,e)},i.prototype.show=function(t,e,n,r){var i=f.show,s=new i.args;s.placement=t,s.content=e,s.priority=n,i.sendRequest(this.output,this.seqid++,s,r)},i.prototype.sendEvents=function(t,e){var n=f.sendEvents,r=new n.args;r.events=t,n.sendRequest(this.output,this.seqid++,r,e)},i.prototype.log=function(t,e){var n=f.log,r=new n.args;r.message=t,n.sendRequest(this.output,this.seqid++,r,e)},i.prototype.dismissMessage=function(t,e){var n=f.dismissMessage,r=new n.args;r.placement=t,n.sendRequest(this.output,this.seqid++,r,e)},i.prototype.saveState=function(t,e){var n=f.saveState,r=new n.args;r.state=t,n.sendRequest(this.output,this.seqid++,r,e)},u.MainApp.Client=i,s.prototype.start=function(){this.stransport.listen()},s.prototype.stop=function(){this.stransport.close()},u.MainApp.Server=s,u}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r=n(14);t.exports={ThriftBridgeBuilder:r}},function(t,e,n){"use strict";var r=n(1).BinaryNativeTransport,i=n(1).BinaryProtocol,s=function(t){var e=function(e){e&&(console.log("Sending to native code: "+e),"undefined"!=typeof window&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers[t]?window.webkit.messageHandlers[t].postMessage(e):"undefined"!=typeof window&&window[t]&&window[t].handleJavascriptEvent&&window[t].handleJavascriptEvent(e))};return e};t.exports={build:function(t,e,n){var o=s(t),u=new r(o),a=new i(u),c=new e.Client(a),f={client:c,makeServer:function(t){var e=new n.Server(t,u,a);return function(t){u.receive(t),e.processor.process(a,a)}}};return f}}},function(t,e,n){var r;r=function(t){var e=n(19),r=function(t){this.notify=t,this.received=new e,this.input=new e};return function(t){t.reset=function(){this.received.clear(),this.input.clear()},t.open=function(){},t.close=function(){},t.read=function(t){return this.received.read(t)},t.readAll=function(){return this.received.buffer},t.write=function(t){this.input.write(t)},t.flush=function(t){this.input.flush(),this.notify(window.btoa(String.fromCharCode.apply(null,this.input.buffer))),this.reset()},t.send=function(t,e,n,r){},t.receive=function(t){for(var n=window.atob(t),r=n.length,i=new Uint8Array(r),s=0;r>s;s++)i[s]=n.charCodeAt(s);this.received=new e(i.buffer)}}(r.prototype),r}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r;r=function(t){"use strict";function e(t,e,n){this.transport=this.trans=t,this.strictRead=void 0!==e?e:!1,this.strictWrite=void 0!==n?n:!0}var r=n(3),i=n(6),s=r.Type,o=-65536,u=-2147418112,a=255;return e.prototype.flush=function(t){var n;return t&&(n=function(n,r){var i;return r&&(i=new e(r)),t(n,i)}),this.trans.flush(n)},e.prototype.writeMessageBegin=function(t,e,n){this.strictWrite?(this.writeI32(u|e),this.writeString(t),this.writeI32(n)):(this.writeString(t),this.writeByte(e),this.writeI32(n))},e.prototype.writeMessageEnd=function(){},e.prototype.writeStructBegin=function(t){},e.prototype.writeStructEnd=function(){},e.prototype.writeFieldBegin=function(t,e,n){this.writeByte(e),this.writeI16(n)},e.prototype.writeFieldEnd=function(){},e.prototype.writeFieldStop=function(){this.writeByte(s.STOP)},e.prototype.writeMapBegin=function(t,e,n){this.writeByte(t),this.writeByte(e),this.writeI32(n)},e.prototype.writeMapEnd=function(){},e.prototype.writeListBegin=function(t,e){this.writeByte(t),this.writeI32(e)},e.prototype.writeListEnd=function(){},e.prototype.writeSetBegin=function(t,e){this.writeByte(t),this.writeI32(e)},e.prototype.writeSetEnd=function(){},e.prototype.writeBool=function(t){t?this.writeByte(1):this.writeByte(0)},e.prototype.writeByte=function(t){this.trans.write(i.fromByte(t))},e.prototype.writeBinary=function(t){if("string"==typeof t&&(t=i.fromString(t)),null==t.byteLength)throw Error("Cannot read length of binary data");this.writeI32(t.byteLength),this.trans.write(t)},e.prototype.writeI16=function(t){this.trans.write(i.fromShort(t))},e.prototype.writeI32=function(t){this.trans.write(i.fromInt(t))},e.prototype.writeI64=function(t){this.trans.write(i.fromLong(t))},e.prototype.writeDouble=function(t){this.trans.write(i.fromDouble(t))},e.prototype.writeString=function(t){var e=i.fromString(t);this.writeI32(e.byteLength),this.trans.write(e)},e.prototype.writeType=function(t,e){switch(t){case s.BOOL:return this.writeBool(e);case s.BYTE:return this.writeByte(e);case s.I16:return this.writeI16(e);case s.I32:return this.writeI32(e);case s.I64:return this.writeI64(e);case s.DOUBLE:return this.writeDouble(e);case s.STRING:return this.writeString(e);case s.BINARY:return this.writeBinary(e);default:throw Error("Invalid type: "+t)}},e.prototype.readMessageBegin=function(){var t=this.readI32(),e={mtype:null,fname:null,seqid:null};if(0>t){var n=t&o;if(n!=u)throw console.log("BAD: "+n),Error("Bad version in readMessageBegin: "+t);e.mtype=t&a,e.fname=this.readString(),e.seqid=this.readI32()}else{if(this.strictRead)throw Error("No protocol version header");e.fname=this.trans.read(t),e.mtype=this.readByte(),e.seqid=this.readI32()}return e},e.prototype.readMessageEnd=function(){},e.prototype.readStructBegin=function(){return{fname:""}},e.prototype.readStructEnd=function(){},e.prototype.readFieldBegin=function(){var t=this.readByte(),e={fname:null,ftype:t,fid:0};return t!=s.STOP&&(e.fid=this.readI16()),e},e.prototype.readFieldEnd=function(){},e.prototype.readMapBegin=function(){var t={ktype:null,vtype:null,size:null};return t.ktype=this.readByte(),t.vtype=this.readByte(),t.size=this.readI32(),t},e.prototype.readMapEnd=function(){},e.prototype.readListBegin=function(){var t={etype:null,size:null};return t.etype=this.readByte(),t.size=this.readI32(),t},e.prototype.readListEnd=function(){},e.prototype.readSetBegin=function(){var t={etype:null,size:null};return t.etype=this.readByte(),t.size=this.readI32(),t},e.prototype.readSetEnd=function(){},e.prototype.readBool=function(){var t=this.readByte();return 1==t},e.prototype.readByte=function(){var t=this.trans.read(1),e=i.toByte(t);return e},e.prototype.readI16=function(){var t=this.trans.read(2),e=i.toShort(t);return e},e.prototype.readI32=function(){var t=this.trans.read(4),e=i.toInt(t);return e},e.prototype.readI64=function(){var t=this.trans.read(8),e=i.toLong(t);return e},e.prototype.readDouble=function(){var t=this.trans.read(8),e=i.toDouble(t);return e},e.prototype.readBinary=function(){var t=this.readI32(),e=this.trans.read(t),n=i.toBytes(e);return n},e.prototype.readString=function(){var t=this.readI32(),e=this.trans.read(t),n=i.toString(e);return n},e.prototype.readType=function(t){switch(t){case s.BOOL:return this.readBool();case s.BYTE:return this.readByte();case s.I16:return this.readI16();case s.I32:return this.readI32();case s.I64:return this.readI64();case s.DOUBLE:return this.readDouble();case s.STRING:return this.readString();case s.BINARY:return this.readBinary();default:throw new Error("Invalid type: "+t)}},e.prototype.getTransport=function(){return this.trans},e.prototype.skipStruct=function(){this.readStructBegin(),this.skipFields(),this.readStructEnd()},e.prototype.skipFields=function(){var t=this.readFieldBegin();t.ftype!==s.STOP&&(this.skip(t.ftype),this.readFieldEnd(),this.skipFields())},e.prototype.skipMap=function(){var t=0,e=this.readMapBegin();for(t=0;t<e.size;t++)this.skip(e.ktype),this.skip(e.vtype);this.readMapEnd()},e.prototype.skipSet=function(){var t=0,e=this.readSetBegin();for(t=0;t<e.size;t++)this.skip(e.etype);this.readSetEnd()},e.prototype.skipList=function(){var t=0,e=this.readListBegin();for(t=0;t<e.size;t++)this.skip(e.etype);this.readListEnd()},e.prototype.skip=function(t){switch(t){case s.STOP:return;case s.BOOL:return this.readBool();case s.BYTE:return this.readByte();case s.I16:return this.readI16();case s.I32:return this.readI32();case s.I64:return this.readI64();case s.DOUBLE:return this.readDouble();case s.STRING:return this.readString();case s.STRUCT:return this.skipStruct();case s.MAP:return this.skipMap();case s.SET:return this.skipSet();case s.LIST:return this.skipList();case s.BINARY:return this.readBinary();default:throw Error("Invalid type: "+t)}},e}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r;r=function(){var t=function(t){this.notify=t,this.received="",this.pos=0};return function(t){t.reset=function(){this.received="",this.pos=0},t.open=function(){},t.close=function(){},t.read=function(t){var e=this.received.substring(this.pos,this.pos+t);return this.pos+=t,e},t.readAll=function(){return this.received},t.write=function(t){this.notify(JSON.stringify(t))},t.flush=function(t){},t.send=function(t,e,n,r){},t.receive=function(t){this.received=t,this.pos=0;
}}(t.prototype),t}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r;r=function(t){"use strict";var e=n(3),r=e.Type,i=function(t){this.transport=t};return i.Type={},i.Type[r.BOOL]='"tf"',i.Type[r.BYTE]='"i8"',i.Type[r.I16]='"i16"',i.Type[r.I32]='"i32"',i.Type[r.I64]='"i64"',i.Type[r.DOUBLE]='"dbl"',i.Type[r.STRUCT]='"rec"',i.Type[r.STRING]='"str"',i.Type[r.MAP]='"map"',i.Type[r.LIST]='"lst"',i.Type[r.SET]='"set"',i.RType={},i.RType.tf=r.BOOL,i.RType.i8=r.BYTE,i.RType.i16=r.I16,i.RType.i32=r.I32,i.RType.i64=r.I64,i.RType.dbl=r.DOUBLE,i.RType.rec=r.STRUCT,i.RType.str=r.STRING,i.RType.map=r.MAP,i.RType.lst=r.LIST,i.RType.set=r.SET,i.Version=1,i.prototype={getTransport:function(){return this.transport},writeType:function(t,e){switch(t){case r.BOOL:return this.writeBool(e);case r.BYTE:return this.writeByte(e);case r.I16:return this.writeI16(e);case r.I32:return this.writeI32(e);case r.I64:return this.writeI64(e);case r.DOUBLE:return this.writeDouble(e);case r.STRING:return this.writeString(e);case r.BINARY:return this.writeBinary(e);default:throw Error("Invalid type: "+t)}},writeMessageBegin:function(t,e,n){this.tstack=[],this.tpos=[],this.tstack.push([i.Version,'"'+t+'"',e,n])},writeMessageEnd:function(){var t=this.tstack.pop();this.wobj=this.tstack.pop(),this.wobj.push(t),this.wbuf="["+this.wobj.join(",")+"]",this.transport.write(this.wbuf)},writeStructBegin:function(t){this.tpos.push(this.tstack.length),this.tstack.push({})},writeStructEnd:function(){var t=this.tpos.pop(),e=this.tstack[t],n="{",r=!0;for(var i in e)r?r=!1:n+=",",n+=i+":"+e[i];n+="}",this.tstack[t]=n},writeFieldBegin:function(t,e,n){this.tpos.push(this.tstack.length),this.tstack.push({fieldId:'"'+n+'"',fieldType:i.Type[e]})},writeFieldEnd:function(){var t=this.tstack.pop(),e=this.tstack.pop();this.tstack[this.tstack.length-1][e.fieldId]="{"+e.fieldType+":"+t+"}",this.tpos.pop()},writeFieldStop:function(){},writeMapBegin:function(t,e,n){this.tpos.push(this.tstack.length),this.tstack.push([i.Type[t],i.Type[e],0])},writeMapEnd:function(){var t=this.tpos.pop();if(t!=this.tstack.length){(this.tstack.length-t-1)%2!==0&&this.tstack.push("");var e=(this.tstack.length-t-1)/2;this.tstack[t][this.tstack[t].length-1]=e;for(var n="}",r=!0;this.tstack.length>t+1;){var i=this.tstack.pop(),s=this.tstack.pop();r?r=!1:n=","+n,isNaN(s)||(s='"'+s+'"'),n=s+":"+i+n}n="{"+n,this.tstack[t].push(n),this.tstack[t]="["+this.tstack[t].join(",")+"]"}},writeListBegin:function(t,e){this.tpos.push(this.tstack.length),this.tstack.push([i.Type[t],e])},writeListEnd:function(){for(var t=this.tpos.pop();this.tstack.length>t+1;){var e=this.tstack[t+1];this.tstack.splice(t+1,1),this.tstack[t].push(e)}this.tstack[t]="["+this.tstack[t].join(",")+"]"},writeSetBegin:function(t,e){this.tpos.push(this.tstack.length),this.tstack.push([i.Type[t],e])},writeSetEnd:function(){for(var t=this.tpos.pop();this.tstack.length>t+1;){var e=this.tstack[t+1];this.tstack.splice(t+1,1),this.tstack[t].push(e)}this.tstack[t]="["+this.tstack[t].join(",")+"]"},writeBool:function(t){this.tstack.push(t?1:0)},writeByte:function(t){this.tstack.push(t)},writeI16:function(t){this.tstack.push(t)},writeI32:function(t){this.tstack.push(t)},writeI64:function(t){this.tstack.push(t)},writeDouble:function(t){this.tstack.push(t)},writeString:function(t){if(null===t)this.tstack.push(null);else{for(var e="",n=0;n<t.length;n++){var r=t.charAt(n);e+='"'===r?'\\"':"\\"===r?"\\\\":"\b"===r?"\\b":"\f"===r?"\\f":"\n"===r?"\\n":"\r"===r?"\\r":"	"===r?"\\t":r}this.tstack.push('"'+e+'"')}},writeBinary:function(t){this.writeString(t)},readType:function(t){var e=void 0;switch(t){case r.BOOL:e=this.readBool();break;case r.BYTE:e=this.readByte();break;case r.I16:e=this.readI16();break;case r.I32:e=this.readI32();break;case r.I64:e=this.readI64();break;case r.DOUBLE:e=this.readDouble();break;case r.STRING:e=this.readString();break;case r.BINARY:e=this.readBinary();break;default:throw new Error("Invalid type: "+t)}return"object"==typeof e?e.value:void 0},readMessageBegin:function(t,e,n){if(this.rstack=[],this.rpos=[],this.robj=this.transport.readAll(),"string"==typeof this.robj)if("undefined"!=typeof jQuery)this.robj=jQuery.parseJSON(this.robj);else{if(!JSON)throw new Error("Could not find a JSON-parsing library");this.robj=JSON.parse(this.robj)}var r={},s=this.robj.shift();if(s!=i.Version)throw"Wrong thrift protocol version: "+s;return r.fname=this.robj.shift(),r.mtype=this.robj.shift(),r.rseqid=this.robj.shift(),this.rstack.push(this.robj.shift()),r},readMessageEnd:function(){},readStructBegin:function(t){var e={};return e.fname="",this.rstack[this.rstack.length-1]instanceof Array&&this.rstack.push(this.rstack[this.rstack.length-1].shift()),e},readStructEnd:function(){this.rstack[this.rstack.length-2]instanceof Array&&this.rstack.pop()},readFieldBegin:function(){var t={},e=-1,n=r.STOP;for(var s in this.rstack[this.rstack.length-1])if(null!==s){e=parseInt(s,10),this.rpos.push(this.rstack.length);var o=this.rstack[this.rstack.length-1][e];delete this.rstack[this.rstack.length-1][e],this.rstack.push(o);break}if(-1!=e)for(var u in this.rstack[this.rstack.length-1])null!==i.RType[u]&&(n=i.RType[u],this.rstack[this.rstack.length-1]=this.rstack[this.rstack.length-1][u]);return t.fname="",t.ftype=n,t.fid=e,t},readFieldEnd:function(){for(var t=this.rpos.pop();this.rstack.length>t;)this.rstack.pop()},readMapBegin:function(t,e,n){var r=this.rstack.pop(),s={};return s.ktype=i.RType[r.shift()],s.vtype=i.RType[r.shift()],s.size=r.shift(),this.rpos.push(this.rstack.length),this.rstack.push(r.shift()),s},readMapEnd:function(){this.readFieldEnd()},readListBegin:function(t,e){var n=this.rstack[this.rstack.length-1],r={};return r.etype=i.RType[n.shift()],r.size=n.shift(),this.rpos.push(this.rstack.length),this.rstack.push(n),r},readListEnd:function(){this.readFieldEnd()},readSetBegin:function(t,e){return this.readListBegin(t,e)},readSetEnd:function(){return this.readListEnd()},readBool:function(){var t=this.readI32();return null!==t&&"1"==t.value?t.value=!0:t.value=!1,t},readByte:function(){return this.readI32()},readI16:function(){return this.readI32()},readI32:function(t){void 0===t&&(t=this.rstack[this.rstack.length-1]);var e={};if(t instanceof Array)0===t.length?e.value=void 0:e.value=t.shift();else if(t instanceof Object){for(var n in t)if(null!==n){this.rstack.push(t[n]),delete t[n],e.value=n;break}}else e.value=t,this.rstack.pop();return e},readI64:function(){return this.readI32()},readDouble:function(){return this.readI32()},readString:function(){var t=this.readI32();return t},readBinary:function(){return this.readString()},skip:function(t){throw"skip not supported yet"},flush:function(t){var e;return t&&(e=function(e,n){var r;return n&&(r=new i(n)),t(e,r)}),this.transport.flush(e)}},i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r;r=function(t){"use strict";function e(t){this.queue=[],this.buffer=t,this.offset=0}return e.prototype.read=function(t){var e=new DataView(this.buffer,this.offset,t);return this.offset+=t,e},e.prototype.write=function(t){var e;e=t.buffer?t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t),this.queue.push(e)},e.prototype.clear=function(){this.queue=[],this.buffer=null,this.offset=0},e.prototype.flush=function(){var t,e=0,n=0;this.buffer&&(e=this.buffer.byteLength),e=this.queue.reduce(function(t,e){return t+e.byteLength},e),t=new Uint8Array(new ArrayBuffer(e)),this.buffer&&t.set(this.buffer),this.queue.forEach(function(e){t.set(e,n),n+=e.byteLength}),this.queue=[],this.buffer=t},e}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}]);    </script>
  

</body></html>